<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PawConnect ‚Äî India's #1 Pet Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<script>
/* SUPABASE EMBEDDED ‚Äî No internet/CDN needed */
/* =====================================================
   SUPABASE LIGHT CLIENT ‚Äî No CDN needed
   Works directly with Supabase REST API using fetch()
   Covers: select, insert, update, delete, auth (OTP)
   ===================================================== */
(function(window) {
  function createClient(url, key) {
    const headers = {
      'apikey': key,
      'Authorization': 'Bearer ' + key,
      'Content-Type': 'application/json',
      'Prefer': 'return=representation'
    };

    // ‚îÄ‚îÄ AUTH ‚îÄ‚îÄ
    const auth = {
      _session: null,

      async signInWithOtp({ phone }) {
        try {
          const r = await fetch(url + '/auth/v1/otp', {
            method: 'POST',
            headers: { ...headers, 'Content-Type': 'application/json' },
            body: JSON.stringify({ phone, channel: 'sms' })
          });
          const data = await r.json();
          if (!r.ok) return { error: data };
          return { data, error: null };
        } catch(e) { return { error: { message: e.message } }; }
      },

      async verifyOtp({ phone, token, type }) {
        try {
          const r = await fetch(url + '/auth/v1/verify', {
            method: 'POST',
            headers: { ...headers, 'Content-Type': 'application/json' },
            body: JSON.stringify({ phone, token, type: type || 'sms' })
          });
          const data = await r.json();
          if (!r.ok) return { data: null, error: data };
          auth._session = data;
          if (data.access_token) {
            localStorage.setItem('pawconnect_session', JSON.stringify(data));
            headers['Authorization'] = 'Bearer ' + data.access_token;
          }
          return { data, error: null };
        } catch(e) { return { data: null, error: { message: e.message } }; }
      },

      async signInWithPassword({ email, password }) {
        try {
          const r = await fetch(url + '/auth/v1/token?grant_type=password', {
            method: 'POST',
            headers: { ...headers, 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password })
          });
          const data = await r.json();
          if (!r.ok) return { data: null, error: data };
          auth._session = data;
          if (data.access_token) {
            localStorage.setItem('pawconnect_session', JSON.stringify(data));
            headers['Authorization'] = 'Bearer ' + data.access_token;
          }
          return { data: { user: data.user, session: data }, error: null };
        } catch(e) { return { data: null, error: { message: e.message } }; }
      },

      async signUp({ email, password }) {
        try {
          const r = await fetch(url + '/auth/v1/signup', {
            method: 'POST',
            headers: { ...headers, 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password })
          });
          const data = await r.json();
          if (!r.ok) return { data: null, error: data };
          return { data: { user: data.user || data }, error: null };
        } catch(e) { return { data: null, error: { message: e.message } }; }
      },

      async signOut() {
        localStorage.removeItem('pawconnect_session');
        headers['Authorization'] = 'Bearer ' + key;
        auth._session = null;
        if (auth._listeners) auth._listeners.forEach(fn => fn('SIGNED_OUT', null));
        return { error: null };
      },

      async getSession() {
        const stored = localStorage.getItem('pawconnect_session');
        if (stored) {
          try {
            const session = JSON.parse(stored);
            auth._session = session;
            if (session.access_token) headers['Authorization'] = 'Bearer ' + session.access_token;
            return { data: { session }, error: null };
          } catch(e) {}
        }
        return { data: { session: null }, error: null };
      },

      _listeners: [],
      onAuthStateChange(fn) {
        auth._listeners.push(fn);
        return { data: { subscription: { unsubscribe: () => {} } } };
      }
    };

    // ‚îÄ‚îÄ QUERY BUILDER ‚îÄ‚îÄ
    function QueryBuilder(table) {
      this._table   = table;
      this._filters = [];
      this._select  = '*';
      this._order   = null;
      this._limit   = null;
      this._single  = false;
      this._count   = null;
      this._method  = 'GET';
      this._body    = null;
    }

    QueryBuilder.prototype.select = function(cols, opts) {
      this._select = cols || '*';
      if (opts && opts.count) this._count = opts.count;
      if (opts && opts.head)  this._head  = opts.head;
      return this;
    };

    QueryBuilder.prototype.insert = function(data) {
      this._method = 'POST';
      this._body   = JSON.stringify(Array.isArray(data) ? data : [data]);
      return this;
    };

    QueryBuilder.prototype.update = function(data) {
      this._method = 'PATCH';
      this._body   = JSON.stringify(data);
      return this;
    };

    QueryBuilder.prototype.upsert = function(data) {
      this._method  = 'POST';
      this._body    = JSON.stringify(Array.isArray(data) ? data : [data]);
      this._upsert  = true;
      return this;
    };

    QueryBuilder.prototype.delete = function() {
      this._method = 'DELETE';
      return this;
    };

    QueryBuilder.prototype.eq = function(col, val) {
      this._filters.push(col + '=eq.' + val);
      return this;
    };

    QueryBuilder.prototype.neq = function(col, val) {
      this._filters.push(col + '=neq.' + val);
      return this;
    };

    QueryBuilder.prototype.lte = function(col, val) {
      this._filters.push(col + '=lte.' + val);
      return this;
    };

    QueryBuilder.prototype.gte = function(col, val) {
      this._filters.push(col + '=gte.' + val);
      return this;
    };

    QueryBuilder.prototype.ilike = function(col, val) {
      this._filters.push(col + '=ilike.' + val);
      return this;
    };

    QueryBuilder.prototype.order = function(col, opts) {
      this._order = col + (opts && opts.ascending === false ? '.desc' : '.asc');
      return this;
    };

    QueryBuilder.prototype.limit = function(n) {
      this._limit = n;
      return this;
    };

    QueryBuilder.prototype.single = function() {
      this._single = true;
      return this;
    };

    QueryBuilder.prototype.then = async function(resolve, reject) {
      try {
        let endpoint = url + '/rest/v1/' + this._table + '?select=' + encodeURIComponent(this._select);
        this._filters.forEach(f => { endpoint += '&' + f; });
        if (this._order) endpoint += '&order=' + this._order;
        if (this._limit) endpoint += '&limit=' + this._limit;

        const h = { ...headers };
        if (this._single) h['Accept'] = 'application/vnd.pgrst.object+json';
        if (this._count)  h['Prefer'] = 'count=' + this._count;
        if (this._upsert) h['Prefer'] = 'resolution=merge-duplicates,return=representation';

        const opts = { method: this._method, headers: h };
        if (this._body) opts.body = this._body;
        if (this._head) opts.method = 'HEAD';

        const r = await fetch(endpoint, opts);

        if (this._count && this._head) {
          const countHeader = r.headers.get('content-range');
          const count = countHeader ? parseInt(countHeader.split('/')[1]) : 0;
          return resolve({ count, error: null });
        }

        const text = await r.text();
        const data = text ? JSON.parse(text) : null;

        if (!r.ok) return resolve({ data: null, error: data, count: null });
        return resolve({ data, error: null, count: null });
      } catch(e) {
        return resolve({ data: null, error: { message: e.message }, count: null });
      }
    };

    // ‚îÄ‚îÄ STORAGE ‚îÄ‚îÄ
    const storage = {
      from(bucket) {
        return {
          async upload(path, file, opts) {
            try {
              const fd = new FormData();
              fd.append('', file);
              const method = opts && opts.upsert ? 'PUT' : 'POST';
              const r = await fetch(url + '/storage/v1/object/' + bucket + '/' + path, {
                method,
                headers: { 'apikey': key, 'Authorization': headers['Authorization'] },
                body: file
              });
              const data = await r.json();
              return r.ok ? { data, error: null } : { data: null, error: data };
            } catch(e) { return { data: null, error: { message: e.message } }; }
          },
          getPublicUrl(path) {
            return { data: { publicUrl: url + '/storage/v1/object/public/' + bucket + '/' + path } };
          }
        };
      }
    };

    // ‚îÄ‚îÄ REALTIME (stub) ‚îÄ‚îÄ
    const channel = () => ({
      on: function() { return this; },
      subscribe: function() { return this; }
    });

    return {
      auth,
      storage,
      channel,
      from(table) { return new QueryBuilder(table); }
    };
  }

  window.supabase = { createClient };
})(window);

const SUPABASE_URL = 'https://nupotfksmpdrsifjsyww.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51cG90ZmtzbXBkcnNpZmpzeXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4MTYwMjgsImV4cCI6MjA4NzM5MjAyOH0.k_UYww_zjqtkWNkorf-bo9iTIoN1FygXlhn0TLtkdDg';
const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
window.sb = sb;
console.log('‚úÖ sb ready:', typeof sb);
</script>

<style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PET PARENT STYLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
*{margin:0;padding:0;box-sizing:border-box;}
input,textarea,select{color:#2C1A0E !important;background:#F0EAE4;border:1.5px solid #C8B8A8;}
input::placeholder,textarea::placeholder{color:#7A6050 !important;font-style:italic;}
input:focus,textarea:focus,select:focus{color:#2C1A0E !important;background:#FFF8F4;border-color:#8B4513 !important;}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--brown);min-height:100vh;}

/* LANDING */
.landing{min-height:100vh;background:var(--brown);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;position:relative;overflow:hidden;}
.landing::before{content:'üêæ';font-size:40rem;position:absolute;right:-8rem;top:50%;transform:translateY(-50%);opacity:.03;pointer-events:none;}
.landing-logo{font-family:'Playfair Display',serif;font-size:2.8rem;color:var(--warm);margin-bottom:.5rem;text-align:center;}
.landing-sub{color:#B8A090;font-size:1rem;margin-bottom:3rem;text-align:center;}
.role-cards{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;max-width:700px;width:100%;}
.role-card{background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.12);border-radius:24px;padding:2.5rem 2rem;text-align:center;cursor:pointer;transition:all .3s;}
.role-card:hover{border-color:var(--warm);background:rgba(193,127,74,.15);transform:translateY(-4px);}
.role-card .ri{font-size:3.5rem;margin-bottom:1rem;}
.role-card h2{font-family:'Playfair Display',serif;font-size:1.5rem;color:var(--cream);margin-bottom:.5rem;}
.role-card p{color:#9A8070;font-size:.88rem;line-height:1.6;}
.role-card .rc-btn{margin-top:1.2rem;background:var(--warm);color:#fff;border:none;border-radius:20px;padding:.6rem 1.8rem;font-family:'DM Sans',sans-serif;font-size:.9rem;cursor:pointer;transition:all .2s;}
.role-card .rc-btn:hover{background:var(--rust);}
.role-card.doc-card .rc-btn{background:var(--blue);}

/* NAV */
nav{position:sticky;top:0;z-index:100;background:var(--brown);display:flex;align-items:center;gap:.3rem;padding:0 1rem;height:58px;overflow-x:auto;}
.logo{font-family:'Playfair Display',serif;font-size:1.25rem;color:var(--warm);white-space:nowrap;margin-right:.5rem;flex-shrink:0;}
.nav-btn{background:none;border:none;color:var(--cream);font-family:'DM Sans',sans-serif;font-size:.74rem;padding:.3rem .65rem;border-radius:14px;cursor:pointer;transition:all .2s;white-space:nowrap;flex-shrink:0;}
.nav-btn:hover,.nav-btn.active{background:var(--warm);color:#fff;}
.nav-spacer{flex:1;}
.helpline-nav{background:var(--rust);color:#fff;border:none;border-radius:14px;padding:.3rem .8rem;font-family:'DM Sans',sans-serif;font-size:.74rem;cursor:pointer;white-space:nowrap;flex-shrink:0;animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(217,95,43,.4)}50%{box-shadow:0 0 0 7px rgba(217,95,43,0)}}

/* PAGES */
.page{display:none;animation:fadeIn .35s ease;}
.page.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

/* COMMON */
.section{padding:2.5rem 5%;}
.section-title{font-family:'Playfair Display',serif;font-size:1.9rem;margin-bottom:.4rem;}
.section-sub{color:#8A7060;margin-bottom:1.8rem;font-size:.88rem;}
.btn-primary{background:var(--warm);color:#fff;border:none;border-radius:22px;padding:.65rem 1.6rem;font-family:'DM Sans',sans-serif;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s;}
.btn-primary:hover{background:var(--rust);transform:translateY(-2px);}
.filter-bar{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1.5rem;}
.filter-chip{padding:.35rem .9rem;border:1.5px solid #C8A898;border-radius:16px;font-size:.78rem;cursor:pointer;background:#E8D8CC;color:#3D2B1F;transition:all .2s;}
.filter-chip.active{background:var(--brown);color:var(--cream);border-color:var(--brown);}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:1.2rem;}
.card{background:var(--white);border-radius:16px;overflow:hidden;box-shadow:0 2px 16px rgba(61,43,31,.07);transition:all .25s;}
.card:hover{transform:translateY(-3px);box-shadow:0 8px 32px rgba(61,43,31,.13);}
.card-img{height:150px;display:flex;align-items:center;justify-content:center;font-size:4rem;position:relative;}
.badge{position:absolute;top:8px;right:8px;background:var(--sage);color:#fff;font-size:.65rem;padding:.18rem .55rem;border-radius:8px;font-weight:500;}
.badge-blue{background:var(--blue);}
.badge-purple{background:var(--purple);}
.badge-cab{background:var(--cab);}
.card-body{padding:1rem;}
.card-body h3{font-size:.95rem;font-weight:600;margin-bottom:.2rem;}
.meta{display:flex;gap:.35rem;font-size:.72rem;color:#9A8070;flex-wrap:wrap;margin-bottom:.6rem;}
.meta span{background:var(--soft);padding:.15rem .5rem;border-radius:6px;}
.stars{color:#F5C842;font-size:.78rem;}
.dist{font-size:.76rem;color:var(--sage);font-weight:500;margin-bottom:.7rem;}
.action-btn{width:100%;background:var(--warm);color:#fff;border:none;border-radius:9px;padding:.55rem;font-family:'DM Sans',sans-serif;font-size:.84rem;font-weight:500;cursor:pointer;transition:all .2s;}
.action-btn:hover{filter:brightness(1.1);}
.action-btn.sage{background:var(--sage);}
.action-btn.blue{background:var(--blue);}
.action-btn.purple{background:var(--purple);}
.action-btn.brown{background:var(--brown);}
.action-btn.cab{background:var(--cab);}
.tag-row{display:flex;gap:.35rem;flex-wrap:wrap;margin-bottom:.7rem;}
.tag{background:var(--soft);font-size:.7rem;padding:.15rem .5rem;border-radius:6px;color:#6A5A50;}

/* FORMS */
.form-card{background:var(--white);border-radius:18px;padding:1.8rem;box-shadow:0 4px 28px rgba(61,43,31,.08);}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:.8rem;}
.form-group{display:flex;flex-direction:column;gap:.3rem;}
.form-group.full{grid-column:1/-1;}
label{font-size:.72rem;font-weight:600;color:#6A5A50;text-transform:uppercase;letter-spacing:.05em;}
input,select,textarea{border:1.5px solid #C8B8A8;border-radius:8px;padding:.55rem .8rem;font-family:'DM Sans',sans-serif;font-size:.88rem;color:#2C1A0E;background:#F0EAE4;transition:border .2s;outline:none;}
input:focus,select:focus,textarea:focus{border-color:var(--warm);}

/* MODAL */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:300;align-items:center;justify-content:center;padding:1rem;}
.modal-overlay.open{display:flex;}
.modal{background:var(--white);border-radius:20px;padding:1.8rem;max-width:480px;width:100%;animation:fadeIn .3s ease;max-height:90vh;overflow-y:auto;}
.modal h3{font-family:'Playfair Display',serif;font-size:1.25rem;margin-bottom:1rem;}
.modal-grid{display:grid;grid-template-columns:1fr 1fr;gap:.7rem;margin-bottom:.9rem;}
.modal-grid .form-group.full{grid-column:1/-1;}
.slot-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.35rem;margin-top:.3rem;}
.slot{padding:.4rem .2rem;border:1.5px solid #C8A898;border-radius:7px;font-size:.74rem;text-align:center;cursor:pointer;transition:all .2s;background:#D8C4B4;color:#2C1A0E;font-weight:500;}
.slot:hover{border-color:var(--warm);}
.slot.sel{background:var(--warm);border-color:var(--warm);color:#fff;}
.slot.taken{background:#F0E8E0;color:#C0A090;cursor:not-allowed;}
.modal-actions{display:flex;gap:.6rem;margin-top:.9rem;}
.modal-close{background:none;border:1.5px solid #D8CCC4;border-radius:16px;padding:.5rem 1.1rem;font-family:'DM Sans',sans-serif;cursor:pointer;color:var(--brown);font-size:.85rem;}

/* OTP */
.verify-page{min-height:calc(100vh - 58px);display:flex;align-items:center;justify-content:center;background:var(--brown);}
.verify-card{background:var(--cream);border-radius:24px;padding:2.5rem;max-width:380px;width:90%;text-align:center;}
.otp-input-row{display:flex;gap:.5rem;justify-content:center;margin:1rem 0;}
.otp-box{width:44px;height:48px;border:2px solid #8B4513;border-radius:9px;text-align:center;font-size:1.3rem;font-weight:700;font-family:'DM Sans',sans-serif;color:#2C1A0E !important;background:#F0E4D8;outline:none;transition:border .2s;}
.otp-box:focus{border-color:var(--warm);}
.phone-row{display:flex;gap:.5rem;align-items:center;width:100%;}
.phone-row input{flex:1;min-width:0;}
.send-btn{background:#8B4513;color:#fff;border:none;border-radius:8px;padding:.7rem 1.2rem;font-family:'DM Sans',sans-serif;font-size:.9rem;font-weight:600;cursor:pointer;white-space:nowrap;flex-shrink:0;display:inline-block;visibility:visible;opacity:1;box-shadow:0 2px 8px rgba(139,69,19,0.4);}

/* ‚îÄ‚îÄ CAB BOOKING ‚îÄ‚îÄ */
.cab-hero{background:linear-gradient(135deg,#3D2B1F 0%,#5C3D20 50%,#2A1F10 100%);border-radius:20px;padding:2rem;margin-bottom:2rem;display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;align-items:center;}
.cab-hero h2{font-family:'Playfair Display',serif;font-size:1.6rem;color:var(--cream);margin-bottom:.5rem;}
.cab-hero p{color:#B8A090;font-size:.88rem;line-height:1.6;margin-bottom:1rem;}
.cab-form-box{background:rgba(255,255,255,.08);border-radius:16px;padding:1.5rem;}
.cab-form-box h4{color:var(--cab);font-size:.9rem;font-weight:600;margin-bottom:1rem;}
.cab-type-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.5rem;margin-bottom:.8rem;}
.cab-type{border:1.5px solid rgba(255,255,255,.2);border-radius:10px;padding:.7rem .4rem;text-align:center;cursor:pointer;transition:all .2s;color:var(--cream);}
.cab-type:hover,.cab-type.sel{border-color:var(--cab);background:rgba(232,160,32,.2);}
.cab-type .ct-icon{font-size:1.8rem;margin-bottom:.3rem;}
.cab-type .ct-name{font-size:.72rem;font-weight:500;}
.cab-type .ct-price{font-size:.68rem;color:var(--cab);}
.drivers-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1.2rem;}
.driver-card{background:var(--white);border-radius:16px;padding:1.2rem;box-shadow:0 2px 16px rgba(61,43,31,.07);transition:all .25s;}
.driver-card:hover{transform:translateY(-3px);}
.driver-head{display:flex;align-items:center;gap:.8rem;margin-bottom:.9rem;}
.driver-av{font-size:2.2rem;width:50px;height:50px;background:var(--soft);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.driver-head h3{font-size:.95rem;font-weight:600;}
.driver-head p{font-size:.75rem;color:#9A8070;}
.cab-feature-strip{display:grid;grid-template-columns:repeat(4,1fr);gap:.8rem;margin-bottom:2rem;}
.cab-feature{background:var(--white);border-radius:14px;padding:1rem;text-align:center;box-shadow:0 2px 12px rgba(61,43,31,.06);}
.cab-feature .cfi{font-size:1.8rem;margin-bottom:.4rem;}
.cab-feature h4{font-size:.82rem;font-weight:600;}
.cab-feature p{font-size:.72rem;color:#9A8070;margin-top:.1rem;}

/* ‚îÄ‚îÄ VETS ‚îÄ‚îÄ */
.vet-card{background:var(--white);border-radius:16px;overflow:hidden;box-shadow:0 2px 16px rgba(61,43,31,.07);transition:all .25s;}
.vet-card:hover{transform:translateY(-3px);box-shadow:0 8px 32px rgba(61,43,31,.12);}
.vet-header{padding:1.2rem;display:flex;gap:.9rem;align-items:flex-start;border-bottom:1.5px solid #EDE0D4;}
.vet-avatar{font-size:2.5rem;width:56px;height:56px;background:var(--soft);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.vet-header h3{font-size:.95rem;font-weight:600;margin-bottom:.1rem;}
.vet-header p{font-size:.76rem;color:#9A8070;}
.vet-body{padding:1rem;}
.vet-avail{display:flex;gap:.35rem;flex-wrap:wrap;margin-bottom:.7rem;}
.avail-slot{background:#E8F5E9;color:var(--sage);font-size:.7rem;padding:.18rem .55rem;border-radius:6px;font-weight:500;}
.avail-slot.busy{background:#FFF3E0;color:#E65100;}
.queue-badge{background:var(--rust);color:#fff;font-size:.7rem;padding:.2rem .6rem;border-radius:8px;font-weight:600;margin-left:.4rem;}
.fee-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;}
.fee{font-size:.95rem;font-weight:700;color:var(--warm);}
.wait{font-size:.75rem;color:#9A8070;}

/* ‚îÄ‚îÄ PANTRY (BRANDS) ‚îÄ‚îÄ */
.brand-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.2rem;}
.brand-card{background:var(--white);border-radius:16px;overflow:hidden;box-shadow:0 2px 14px rgba(61,43,31,.07);transition:all .25s;cursor:pointer;}
.brand-card:hover{transform:translateY(-3px);box-shadow:0 6px 28px rgba(61,43,31,.13);}
.brand-img{height:130px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:.3rem;font-size:.7rem;font-weight:700;letter-spacing:.05em;position:relative;}
.brand-badge{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.35);color:#fff;font-size:.6rem;padding:.15rem .5rem;border-radius:6px;}
.brand-card-body{padding:.9rem;}
.brand-card-body h3{font-size:.88rem;font-weight:600;margin-bottom:.2rem;}
.brand-card-body .bprice{font-size:.95rem;font-weight:700;color:var(--warm);margin-bottom:.6rem;}
.brand-card-body p{font-size:.72rem;color:#9A8070;margin-bottom:.6rem;}
.cart-badge{background:var(--rust);color:#fff;border-radius:50%;width:15px;height:15px;font-size:.6rem;display:inline-flex;align-items:center;justify-content:center;margin-left:3px;font-weight:700;}

/* PANTRY NON-BRAND */
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:1.1rem;}
.product-card{background:var(--white);border-radius:14px;padding:1.1rem;box-shadow:0 2px 12px rgba(61,43,31,.06);transition:all .25s;}
.product-card:hover{transform:translateY(-2px);}
.product-icon{font-size:2.5rem;margin-bottom:.6rem;}

/* MARKETPLACE */
.market-tabs{display:flex;gap:.5rem;margin-bottom:1.4rem;}
.market-tab{padding:.45rem 1.2rem;border-radius:16px;border:1.5px solid #C8A898;font-size:.82rem;cursor:pointer;background:#E8D8CC;color:#3D2B1F;transition:all .2s;font-family:'DM Sans',sans-serif;}
.market-tab.active{background:var(--brown);color:var(--cream);border-color:var(--brown);}

/* TRAINERS */
.trainers-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1.2rem;}
.trainer-card{background:var(--white);border-radius:16px;overflow:hidden;box-shadow:0 2px 16px rgba(61,43,31,.07);transition:all .25s;}
.trainer-card:hover{transform:translateY(-3px);}
.trainer-header{background:var(--brown);padding:1.2rem;display:flex;align-items:center;gap:.8rem;}
.trainer-avatar{font-size:2.2rem;width:48px;height:48px;background:rgba(255,255,255,.1);border-radius:50%;display:flex;align-items:center;justify-content:center;}
.trainer-header h3{color:var(--cream);font-size:.95rem;font-weight:600;}
.trainer-header p{color:var(--warm);font-size:.75rem;margin-top:.1rem;}
.trainer-body{padding:1rem;}

/* CRECHE */
.creche-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(270px,1fr));gap:1.2rem;}
.creche-info-strip{background:var(--brown);border-radius:16px;padding:1.3rem 1.8rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:1rem;margin-bottom:1.8rem;}
.strip-item{text-align:center;}
.strip-item .si{font-size:1.6rem;margin-bottom:.2rem;}
.strip-item h4{color:var(--cream);font-size:.8rem;font-weight:600;}
.strip-item p{color:#8A7060;font-size:.7rem;margin-top:.1rem;}

/* GROOMING */
.groom-choice{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.8rem;max-width:600px;}
.groom-opt{border:2px solid #C8A898;border-radius:16px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .25s;background:#EDE0D8;color:#2C1A0E;}
.groom-opt:hover,.groom-opt.sel{border-color:var(--purple);background:#F5F0FF;}
.groom-opt .gi{font-size:2.4rem;margin-bottom:.6rem;}
.groom-opt h3{font-size:.9rem;font-weight:600;margin-bottom:.3rem;}
.groom-opt p{font-size:.76rem;color:#9A8070;}

/* LAB */
.lab-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.1rem;}
.lab-card{background:var(--white);border-radius:14px;padding:1.2rem;box-shadow:0 2px 14px rgba(61,43,31,.07);text-align:center;transition:all .25s;}
.lab-card:hover{transform:translateY(-2px);}

/* MATING */
.mate-choice{display:grid;grid-template-columns:1fr 1fr;gap:1rem;max-width:600px;margin-bottom:1.8rem;}
.mate-option{border:2px solid #C8A898;border-radius:16px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .25s;background:#EDE0D8;color:#2C1A0E;}
.mate-option:hover,.mate-option.sel{border-color:var(--warm);background:#FBF0E4;}
.mate-option .mo-icon{font-size:2.5rem;margin-bottom:.7rem;}
.mate-option h3{font-size:.95rem;font-weight:600;margin-bottom:.3rem;}
.mate-option p{font-size:.78rem;color:#9A8070;line-height:1.5;}

/* HELPLINE */
.helpline-page{min-height:calc(100vh - 58px);display:flex;align-items:center;justify-content:center;background:var(--brown);}
.helpline-card{background:var(--cream);border-radius:24px;padding:2.5rem;text-align:center;max-width:460px;width:90%;}
.phone-num{font-family:'Playfair Display',serif;font-size:2.2rem;color:var(--rust);font-weight:700;margin-bottom:.4rem;}
.available{color:var(--sage);font-size:.82rem;font-weight:500;margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center;gap:.4rem;}
.green-dot{width:7px;height:7px;background:var(--sage);border-radius:50%;animation:blink 1.2s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.consult-options{display:grid;grid-template-columns:1fr 1fr;gap:.8rem;margin-top:1.3rem;}
.consult-option{background:var(--soft);border-radius:11px;padding:.9rem;text-align:center;cursor:pointer;transition:all .2s;border:1.5px solid transparent;}
.consult-option:hover{border-color:var(--warm);}

/* DEMO */
.demo-steps{display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:1.5rem;}
.demo-step-btn{padding:.4rem .9rem;border-radius:16px;border:1.5px solid #C8A898;font-size:.76rem;cursor:pointer;background:#E8D8CC;color:#3D2B1F;transition:all .2s;font-family:'DM Sans',sans-serif;}
.demo-step-btn.active{background:var(--rust);color:#fff;border-color:var(--rust);}
.demo-step-btn.done{background:var(--sage);color:#fff;border-color:var(--sage);}
.demo-screen{background:var(--white);border-radius:18px;padding:1.8rem;box-shadow:0 4px 28px rgba(61,43,31,.1);min-height:360px;}
.demo-phone{max-width:320px;margin:0 auto;background:var(--brown);border-radius:24px;padding:1.5rem 1.2rem;color:var(--cream);}
.demo-phone h4{font-family:'Playfair Display',serif;font-size:1rem;color:var(--warm);margin-bottom:.8rem;text-align:center;}
.demo-msg{background:rgba(255,255,255,.08);border-radius:10px;padding:.8rem;margin-bottom:.6rem;font-size:.8rem;border-left:3px solid var(--warm);}
.demo-msg strong{display:block;margin-bottom:.2rem;font-size:.78rem;color:var(--warm);}
.progress-bar{height:4px;background:rgba(0,0,0,.06);border-radius:2px;margin-bottom:1.2rem;}
.progress-fill{height:100%;background:var(--warm);border-radius:2px;transition:width .4s ease;}
.step-indicator{text-align:center;font-size:.74rem;color:#9A8070;margin-bottom:.9rem;}
.demo-nav{display:flex;justify-content:space-between;margin-top:1.3rem;}
.demo-nav-btn{background:var(--warm);color:#fff;border:none;border-radius:10px;padding:.55rem 1.2rem;font-family:'DM Sans',sans-serif;font-size:.82rem;cursor:pointer;transition:all .2s;}
.demo-nav-btn:hover{background:var(--rust);}
.demo-nav-btn:disabled{background:#9A8070;cursor:not-allowed;}

/* CERT TAGS */
.cert-tag{padding:.28rem .8rem;border:1.5px solid #C8A898;border-radius:16px;font-size:.74rem;cursor:pointer;transition:all .2s;background:#D8C4B4;color:#2C1A0E;font-weight:500;}
.cert-tag.sel{background:var(--sage);border-color:var(--sage);color:#fff;}

/* TOAST */
.toast{position:fixed;bottom:1.5rem;left:50%;transform:translateX(-50%) translateY(100px);background:var(--brown);color:var(--cream);padding:.65rem 1.5rem;border-radius:22px;font-size:.84rem;transition:transform .3s;z-index:999;box-shadow:0 4px 16px rgba(0,0,0,.2);}
.toast.show{transform:translateX(-50%) translateY(0);}

@media(max-width:768px){
  .role-cards{grid-template-columns:1fr;}
  .cab-hero{grid-template-columns:1fr;}
  .form-grid,.modal-grid{grid-template-columns:1fr;}
  .cab-type-row{grid-template-columns:1fr 1fr 1fr;}
  .cab-feature-strip{grid-template-columns:1fr 1fr;}
  .groom-choice,.mate-choice{grid-template-columns:1fr;}
}


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DOCTOR PORTAL STYLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
/* All doctor styles scoped to avoid conflicts with pet parent app */

#doctorApp{font-family:'DM Sans',sans-serif;background:#0D1B2A;color:#E8F0F7;min-height:100vh;}
#doctorLogin{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:radial-gradient(ellipse at 30% 50%,rgba(74,144,217,.12) 0%,transparent 60%),var(--dark);}
#doctorLogin .login-box{background:var(--panel);border:1px solid var(--border);border-radius:20px;padding:2.5rem;max-width:400px;width:100%;}
#doctorLogin .login-logo{font-family:'Playfair Display',serif;font-size:1.6rem;color:var(--gold);margin-bottom:.3rem;}
#doctorLogin .login-sub{font-size:.78rem;color:var(--muted);margin-bottom:.4rem;}
#doctorLogin .secure-badge{display:inline-flex;align-items:center;gap:.35rem;background:rgba(74,144,217,.1);border:1px solid rgba(74,144,217,.25);border-radius:8px;padding:.28rem .75rem;font-size:.7rem;color:var(--blue);margin-bottom:1.8rem;}
#doctorLogin .login-tabs{display:flex;background:rgba(255,255,255,.05);border-radius:10px;padding:.2rem;margin-bottom:1.5rem;gap:.2rem;}
#doctorLogin .login-tab{flex:1;padding:.4rem;border-radius:8px;border:none;background:none;color:var(--muted);font-family:'DM Sans',sans-serif;font-size:.8rem;cursor:pointer;transition:all .2s;}
#doctorLogin .login-tab.active{background:var(--blue);color:#fff;}
#doctorLogin .lg{display:flex;flex-direction:column;gap:.25rem;margin-bottom:.9rem;}
#doctorLogin .lg label{font-size:.68rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.05em;}
#doctorLogin .lg input,#doctorLogin .lg select{background:rgba(255,255,255,.18);border:1.5px solid rgba(255,255,255,.35);border-radius:9px;padding:.55rem .82rem;font-family:'DM Sans',sans-serif;font-size:.84rem;color:#FFFFFF !important;outline:none;transition:border .2s;}
#doctorLogin .lg input:focus{border-color:var(--blue);background:rgba(255,255,255,.25);}
#doctorLogin .lg input::placeholder{color:#B8D4E8 !important;font-style:italic;}
#doctorLogin .lg select option{background:#F0E4D8;color:#2C1A0E;}
#doctorLogin .login-btn{width:100%;background:var(--blue);color:#fff;border:none;border-radius:10px;padding:.68rem;font-family:'DM Sans',sans-serif;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;margin-top:.3rem;}
#doctorLogin .login-btn:hover{background:#3A7BC8;}
#doctorLogin .forgot{text-align:center;color:var(--muted);font-size:.72rem;margin-top:.85rem;cursor:pointer;}
#doctorLogin .forgot:hover{color:var(--blue);}
#doctorApp input,#doctorApp textarea,#doctorApp select{color:#FFFFFF !important;background:rgba(255,255,255,.15) !important;border:1.5px solid rgba(255,255,255,.25) !important;}
#doctorApp input::placeholder,#doctorApp textarea::placeholder{color:#B8D4E8 !important;font-style:italic;}
#app{display:none;flex-direction:column;min-height:100vh;}
#doctorApp .layout{display:grid;grid-template-columns:200px 1fr;min-height:100vh;}
#doctorApp .sidebar{background:var(--mid);border-right:1px solid var(--border);display:flex;flex-direction:column;padding:1.2rem 0;position:sticky;top:0;height:100vh;overflow-y:auto;}
#doctorApp .sb-logo{font-family:'Playfair Display',serif;font-size:1.1rem;color:var(--gold);padding:.5rem 1.2rem 1.2rem;}
#doctorApp .sb-logo span{display:block;font-size:.65rem;color:var(--muted);font-family:'DM Sans',sans-serif;font-weight:400;margin-top:.1rem;}
#doctorApp .sb-section{font-size:.6rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;padding:.5rem 1.2rem .3rem;}
#doctorApp .sb-btn{display:flex;align-items:center;gap:.65rem;padding:.55rem 1.2rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--muted);background:none;border:none;width:100%;text-align:left;cursor:pointer;transition:all .2s;border-left:2.5px solid transparent;}
#doctorApp .sb-btn:hover{color:var(--text);background:rgba(255,255,255,.04);}
#doctorApp .sb-btn.active{color:var(--blue);background:rgba(74,144,217,.1);border-left-color:var(--blue);}
#doctorApp .sb-icon{font-size:1rem;width:18px;text-align:center;flex-shrink:0;}
#doctorApp .sb-divider{height:1px;background:var(--border);margin:.6rem 1.2rem;}
#doctorApp .sb-doctor{padding:1rem 1.2rem;margin-top:auto;border-top:1px solid var(--border);}
#doctorApp .sb-doc-name{font-size:.78rem;font-weight:600;margin-bottom:.12rem;}
#doctorApp .sb-doc-sub{font-size:.64rem;color:var(--muted);}
#doctorApp .online-dot{width:6px;height:6px;background:var(--green);border-radius:50%;display:inline-block;margin-right:.3rem;animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
#doctorApp .main{overflow-y:auto;}
#doctorApp .page{display:none;padding:1.8rem 2rem;}
#doctorApp .page.active{display:block;animation:fadeIn .25s ease;}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
#doctorApp .page-title{font-family:'Playfair Display',serif;font-size:1.7rem;margin-bottom:.25rem;}
#doctorApp .page-sub{color:var(--muted);font-size:.82rem;margin-bottom:1.4rem;}
.stat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.85rem;margin-bottom:1.4rem;}
.stat-card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:1.1rem 1.2rem;border-top:2.5px solid var(--blue);}
.stat-card.g{border-top-color:var(--green);}
.stat-card.gd{border-top-color:var(--gold);}
.stat-card.rd{border-top-color:var(--red);}
.stat-card.tl{border-top-color:var(--teal);}
.sc-num{font-size:2rem;font-weight:700;margin-bottom:.08rem;}
.sc-lbl{font-size:.7rem;color:var(--muted);}
.sc-chg{font-size:.68rem;margin-top:.18rem;}
.sc-chg.up{color:var(--green);}
.sc-chg.dn{color:var(--red);}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:1.1rem;}
.three-col{display:grid;grid-template-columns:290px 1fr;gap:1.1rem;}
.card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:1.1rem;}
.card-title{font-size:.76rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--muted);margin-bottom:.9rem;}
.rem-item{padding:.75rem;border-radius:9px;margin-bottom:.55rem;border-left:3px solid var(--red);}
.rem-item.gd{border-left-color:var(--gold);background:rgba(245,166,35,.06);}
.rem-item.rd{background:rgba(224,82,82,.07);}
.rem-item.gr{border-left-color:var(--green);background:rgba(76,175,128,.06);}
.rem-name{font-size:.8rem;font-weight:600;margin-bottom:.12rem;}
.rem-sub{font-size:.7rem;color:var(--muted);}
.rem-btn{font-size:.66rem;padding:.22rem .65rem;border-radius:6px;border:none;cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:600;margin-top:.35rem;}
.rem-btn.bl{background:var(--blue);color:#fff;}
.rem-btn.tl{background:var(--teal);color:#fff;}
.apt-table{width:100%;border-collapse:collapse;}
.apt-table th{font-size:.68rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;padding:.5rem .7rem;text-align:left;border-bottom:1px solid var(--border);}
.apt-table td{padding:.6rem .7rem;font-size:.78rem;border-bottom:1px solid rgba(255,255,255,.04);vertical-align:middle;}
.apt-table tr:hover td{background:rgba(255,255,255,.02);}
.pill{font-size:.63rem;padding:.16rem .52rem;border-radius:6px;font-weight:600;white-space:nowrap;}
.pill.done{background:rgba(76,175,128,.18);color:var(--green);}
.pill.prog{background:rgba(74,144,217,.18);color:var(--blue);}
.pill.wait{background:rgba(245,166,35,.18);color:var(--gold);}
.pill.urg{background:rgba(224,82,82,.18);color:var(--red);}
.pill.conf{background:rgba(46,196,182,.18);color:var(--teal);}
.tb{background:var(--blue);color:#fff;border:none;border-radius:6px;padding:.24rem .65rem;font-family:'DM Sans',sans-serif;font-size:.68rem;cursor:pointer;margin-right:.25rem;}
.tb:hover{filter:brightness(1.2);}
.tb.tl{background:var(--teal);}
.tb.rd{background:var(--red);}
.tb.gd{background:var(--gold);color:var(--dark);}
.queue-now{background:linear-gradient(135deg,var(--blue),#2E6BB0);border-radius:12px;padding:1.1rem;text-align:center;margin-bottom:.85rem;}
.qn-tok{font-size:2.8rem;font-weight:800;line-height:1;}
.qn-lbl{font-size:.68rem;opacity:.75;margin-top:.1rem;}
.qn-name{font-size:.95rem;font-weight:600;margin-top:.45rem;}
.qn-sub{font-size:.74rem;opacity:.8;}
.queue-btns{display:flex;gap:.45rem;margin-bottom:.85rem;}
.q-next{flex:1;background:var(--green);color:#fff;border:none;border-radius:8px;padding:.52rem;font-family:'DM Sans',sans-serif;font-size:.78rem;font-weight:600;cursor:pointer;transition:all .2s;}
.q-next:hover{background:#3DA86A;}
.q-skip{background:rgba(255,255,255,.08);color:var(--muted);border:none;border-radius:8px;padding:.52rem .85rem;font-family:'DM Sans',sans-serif;font-size:.78rem;cursor:pointer;}
.queue-list{display:flex;flex-direction:column;gap:.38rem;max-height:300px;overflow-y:auto;}
.q-item{display:flex;align-items:center;gap:.65rem;padding:.58rem;border-radius:8px;background:rgba(255,255,255,.03);}
.q-item.aq{background:rgba(74,144,217,.12);border:1px solid rgba(74,144,217,.25);}
.q-tok{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.65rem;font-weight:700;flex-shrink:0;}
.q-tok.d{background:var(--green);color:#fff;}
.q-tok.a{background:var(--blue);color:#fff;}
.q-tok.w{background:rgba(255,255,255,.15);color:var(--muted);}
.q-tok.u{background:var(--red);color:#fff;}
.qi h5{font-size:.76rem;font-weight:600;margin-bottom:.05rem;}
.qi p{font-size:.65rem;color:var(--muted);}
.q-st{margin-left:auto;font-size:.6rem;padding:.12rem .42rem;border-radius:5px;font-weight:600;white-space:nowrap;}
.q-st.d{background:rgba(76,175,128,.2);color:var(--green);}
.q-st.a{background:rgba(74,144,217,.2);color:var(--blue);}
.q-st.w{background:rgba(255,255,255,.06);color:var(--muted);}
.q-st.u{background:rgba(224,82,82,.2);color:var(--red);}
.wi-row{display:flex;gap:.4rem;margin-top:.85rem;}
.wi-row input{flex:1;background:rgba(255,255,255,.12);border:1.5px solid rgba(255,255,255,.25);border-radius:8px;padding:.46rem .72rem;font-family:'DM Sans',sans-serif;font-size:.78rem;color:#fff;outline:none;}
.wi-row input:focus{border-color:var(--blue);}
.wi-row button{background:var(--teal);color:#fff;border:none;border-radius:8px;padding:.46rem .9rem;font-family:'DM Sans',sans-serif;font-size:.76rem;font-weight:600;cursor:pointer;}
.sf{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:1.2rem;}
.sg{display:grid;grid-template-columns:1fr 1fr;gap:.7rem;}
.sg-g{display:flex;flex-direction:column;gap:.22rem;}
.sg-g.full{grid-column:1/-1;}
.sg-g label{font-size:.65rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;}
.sg-g input,.sg-g select,.sg-g textarea{background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.48rem .7rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;transition:border .2s;}
.sg-g input:focus,.sg-g select:focus,.sg-g textarea:focus{border-color:var(--blue);}
.sg-g select option{background:#F0E4D8;color:#2C1A0E;}
.fa{display:flex;gap:.55rem;margin-top:.85rem;flex-wrap:wrap;}
.fa-btn{background:var(--blue);color:#fff;border:none;border-radius:8px;padding:.55rem 1.2rem;font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s;}
.fa-btn:hover{filter:brightness(1.15);}
.fa-btn.tl{background:var(--teal);}
.fa-btn.ol{background:none;border:1.5px solid var(--border);color:var(--muted);}
.pt-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:.8rem;margin-bottom:1.2rem;}
.pt-card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:.95rem;cursor:pointer;transition:all .2s;}
.pt-card:hover,.pt-card.sel{border-color:var(--blue);background:rgba(74,144,217,.07);}
.pc-head{display:flex;align-items:center;gap:.65rem;margin-bottom:.65rem;}
.pc-av{font-size:1.8rem;width:40px;height:40px;background:rgba(255,255,255,.06);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.pc-head h4{font-size:.84rem;font-weight:600;margin-bottom:.05rem;}
.pc-head p{font-size:.66rem;color:var(--muted);}
.vc-b{background:var(--blue);color:#fff;border-radius:4px;padding:.06rem .38rem;font-size:.6rem;font-weight:700;margin-left:.3rem;}
.ptag{background:rgba(255,255,255,.06);font-size:.64rem;padding:.12rem .42rem;border-radius:4px;color:var(--muted);}
.ptag.g{background:rgba(76,175,128,.15);color:var(--green);}
.ptag.r{background:rgba(224,82,82,.12);color:var(--red);}
.pt-detail{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:1.2rem;}
.pd-head{display:flex;align-items:center;gap:.8rem;margin-bottom:1rem;padding-bottom:.8rem;border-bottom:1px solid var(--border);}
.pd-av{font-size:2.5rem;width:56px;height:56px;background:rgba(255,255,255,.06);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.pd-head h3{font-family:'Playfair Display',serif;font-size:1.15rem;margin-bottom:.15rem;}
.pd-head p{font-size:.74rem;color:var(--muted);}
.ig{display:grid;grid-template-columns:1fr 1fr;gap:.7rem;margin-bottom:1rem;}
.ib{background:rgba(255,255,255,.04);border-radius:9px;padding:.8rem;}
.ib h5{font-size:.72rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;margin-bottom:.5rem;}
.ib p{font-size:.76rem;color:var(--muted);line-height:1.9;}
.ib strong{color:var(--text);}
.hist{display:flex;flex-direction:column;gap:.55rem;}
.hi{background:rgba(255,255,255,.03);border-radius:9px;padding:.85rem;border-left:3px solid var(--blue);}
.hi.vc{border-left-color:var(--green);}
.hi.sx{border-left-color:var(--red);}
.hi-dt{font-size:.65rem;color:var(--muted);margin-bottom:.2rem;}
.hi-tt{font-size:.82rem;font-weight:600;margin-bottom:.2rem;}
.hi-bd{font-size:.74rem;color:var(--muted);line-height:1.55;}
.nxt-box{background:rgba(76,175,128,.08);border:1px solid rgba(76,175,128,.2);border-radius:10px;padding:.85rem;margin-top:.85rem;}
.nxt-box strong{color:var(--green);font-size:.8rem;}
.nxt-box p{font-size:.73rem;color:var(--muted);margin-top:.2rem;}
.slot-g{display:grid;grid-template-columns:repeat(3,1fr);gap:.4rem;margin-bottom:.7rem;}
.slot{padding:.4rem .2rem;border:1.5px solid var(--border);border-radius:7px;font-size:.7rem;text-align:center;cursor:pointer;transition:all .2s;background:rgba(255,255,255,.03);}
.slot:hover{border-color:var(--blue);}
.slot.bk{background:rgba(74,144,217,.12);border-color:var(--blue);color:var(--blue);}
.slot.op{background:rgba(76,175,128,.1);border-color:var(--green);color:var(--green);}
.slot.bl{background:rgba(255,255,255,.02);color:var(--muted);cursor:not-allowed;opacity:.5;}
.slot.dn{background:rgba(76,175,128,.1);border-color:var(--green);color:var(--green);}
.day-g{display:grid;grid-template-columns:repeat(7,1fr);gap:.3rem;}
.day-b{border:1.5px solid var(--border);border-radius:6px;padding:.3rem;text-align:center;font-size:.65rem;cursor:pointer;background:rgba(255,255,255,.03);color:var(--muted);transition:all .2s;}
.day-b.on{background:rgba(74,144,217,.15);border-color:var(--blue);color:var(--blue);}
.an-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;}
.an-card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:1.1rem;}
.an-card h4{font-size:.76rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;margin-bottom:.9rem;}
.bc{display:flex;flex-direction:column;gap:.45rem;}
.br{display:flex;align-items:center;gap:.6rem;font-size:.74rem;}
.bl{width:80px;text-align:right;color:var(--muted);flex-shrink:0;font-size:.7rem;}
.bt{flex:1;height:18px;background:rgba(255,255,255,.06);border-radius:4px;overflow:hidden;}
.bf{height:100%;border-radius:4px;}
.bv{width:34px;font-weight:600;}
.dn-wrap{display:flex;align-items:center;gap:1rem;}
.dn{width:100px;height:100px;border-radius:50%;background:conic-gradient(var(--blue) 0% 45%,var(--green) 45% 70%,var(--gold) 70% 85%,var(--red) 85% 100%);display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.dn-hole{width:62px;height:62px;background:var(--panel);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.82rem;}
.leg{display:flex;flex-direction:column;gap:.32rem;}
.li{display:flex;align-items:center;gap:.4rem;font-size:.73rem;}
.ld{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
.steps-tr{display:flex;margin-bottom:1.8rem;overflow-x:auto;}
.st-item{flex:1;min-width:80px;text-align:center;position:relative;}
.st-item::after{content:'';position:absolute;top:14px;left:50%;width:100%;height:2px;background:var(--border);z-index:0;}
.st-item:last-child::after{display:none;}
.st-c{width:28px;height:28px;border-radius:50%;border:2px solid var(--border);background:var(--mid);display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;margin:0 auto .35rem;position:relative;z-index:1;}
.st-c.dn{background:var(--green);border-color:var(--green);color:#fff;}
.st-c.ac{background:var(--blue);border-color:var(--blue);color:#fff;}
.st-l{font-size:.62rem;color:var(--muted);}
.set-form{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:1.6rem;max-width:660px;}
.set-form h3{font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:1rem;}
.rg{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;}
.rf{display:flex;flex-direction:column;gap:.22rem;}
.rf.full{grid-column:1/-1;}
.rf label{font-size:.65rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;}
.rf input,.rf select,.rf textarea{background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.5rem .72rem;font-family:'DM Sans',sans-serif;font-size:.82rem;color:var(--text);outline:none;transition:border .2s;}
.rf input:focus,.rf select:focus,.rf textarea:focus{border-color:var(--blue);}
.rf select option{background:#F0E4D8;color:#2C1A0E;}
.ct-row{display:grid;grid-template-columns:1fr 1fr;gap:.38rem;margin-top:.2rem;}
.ct{display:flex;align-items:center;gap:.4rem;background:rgba(255,255,255,.04);border:1.5px solid var(--border);border-radius:7px;padding:.38rem .6rem;cursor:pointer;font-size:.74rem;transition:all .2s;}
.ct.on{border-color:var(--blue);background:rgba(74,144,217,.1);color:var(--blue);}
.ft-row{display:flex;gap:.38rem;flex-wrap:wrap;margin-top:.2rem;}
.ft{padding:.24rem .68rem;border:1.5px solid var(--border);border-radius:12px;font-size:.7rem;cursor:pointer;transition:all .2s;background:rgba(255,255,255,.03);}
.ft.on{background:var(--teal);border-color:var(--teal);color:#fff;}
.up-box{border:2px dashed var(--border);border-radius:9px;padding:1rem;text-align:center;color:var(--muted);cursor:pointer;transition:all .2s;font-size:.78rem;}
.up-box:hover{border-color:var(--blue);color:var(--blue);}
.sb-row{display:flex;gap:.6rem;margin-top:1.1rem;}
.sb-row input{flex:1;background:rgba(255,255,255,.06);border:1.5px solid var(--border);border-radius:9px;padding:.5rem .8rem;font-family:'DM Sans',sans-serif;font-size:.82rem;color:var(--text);outline:none;}
.sb-row input:focus{border-color:var(--blue);}
.sb-row select{background:rgba(255,255,255,.06);border:1.5px solid var(--border);border-radius:9px;padding:.5rem .75rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;}
.sb-row select option{background:#F0E4D8;color:#2C1A0E;}
.btn-blue{background:var(--blue);color:#fff;border:none;border-radius:9px;padding:.52rem 1.1rem;font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:600;cursor:pointer;}
.btn-tl{background:var(--teal);color:#fff;border:none;border-radius:9px;padding:.52rem 1.1rem;font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:600;cursor:pointer;}
.btn-ol{background:none;border:1.5px solid var(--border);border-radius:9px;padding:.5rem 1.1rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--muted);cursor:pointer;}
.btn-ol:hover{border-color:var(--blue);color:var(--blue);}
#doctorSection .modal-ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:200;align-items:center;justify-content:center;padding:1rem;}
#doctorSection .modal-ov.open{display:flex;}
#doctorSection .modal{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:1.6rem;max-width:480px;width:100%;animation:fadeIn .25s ease;max-height:90vh;overflow-y:auto;}
#doctorSection .modal h3{font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:.9rem;}
#doctorSection .m-actions{display:flex;gap:.5rem;margin-top:.9rem;}
._toast_skip{position:fixed;bottom:1.5rem;left:50%;transform:translateX(-50%) translateY(100px);background:rgba(22,36,54,.97);border:1px solid var(--border);color:var(--text);padding:.6rem 1.4rem;border-radius:20px;font-size:.8rem;transition:transform .3s;z-index:999;box-shadow:0 4px 20px rgba(0,0,0,.4);}
._toast_skip_show{transform:translateX(-50%) translateY(0);}
@media(max-width:900px){#doctorApp .layout{grid-template-columns:1fr;}#doctorApp #doctorApp .sidebar{display:none;}#doctorApp .stat-grid{grid-template-columns:1fr 1fr;}#doctorApp .two-col,#doctorApp .three-col,#doctorApp .an-grid{grid-template-columns:1fr;}#doctorApp .sg,#doctorApp .ig{grid-template-columns:1fr;}#doctorApp .rg{grid-template-columns:1fr;}}

/* Override body-level vars for doctor section */
#doctorSection, #doctorLogin, #doctorApp {
  --cream:#EEF4FA;
}
#doctorLogin {
  min-height:100vh;
  display:none;
  background:radial-gradient(ellipse at 30% 50%,rgba(74,144,217,.12) 0%,transparent 60%),#0D1B2A;
  align-items:center;
  justify-content:center;
  padding:2rem;
}
#doctorApp {
  display:none;
  background:#0D1B2A;
  color:#E8F0F7;
  min-height:100vh;
}
/* Back button */
.back-to-home {
  background:none;border:1px solid rgba(255,255,255,.15);color:#6B8BA8;
  font-family:'DM Sans',sans-serif;font-size:.76rem;cursor:pointer;
  border-radius:7px;padding:.32rem .8rem;margin-top:1rem;transition:all .2s;
}
.back-to-home:hover {color:#4A90D9;border-color:#4A90D9;}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAYMENT GATEWAY CSS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

/* Floating Cart Button */
.cart-fab{position:fixed;bottom:2rem;right:2rem;z-index:200;background:var(--warm);color:#fff;border:none;border-radius:50px;padding:.75rem 1.3rem;font-family:'DM Sans',sans-serif;font-size:.88rem;font-weight:600;cursor:pointer;box-shadow:0 6px 24px rgba(193,127,74,.45);transition:all .3s;display:none;align-items:center;gap:.5rem;}
.cart-fab:hover{background:var(--rust);transform:translateY(-3px);}
.cart-fab .cf-count{background:#fff;color:var(--warm);border-radius:50%;width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;}
.cart-fab.visible{display:flex;}

/* Cart Drawer */
.cart-drawer{position:fixed;top:0;right:-420px;width:420px;max-width:95vw;height:100vh;background:#fff;z-index:500;box-shadow:-8px 0 40px rgba(61,43,31,.18);transition:right .35s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;}
.cart-drawer.open{right:0;}
.cart-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:499;display:none;backdrop-filter:blur(2px);}
.cart-overlay.open{display:block;}
.cart-header{padding:1.2rem 1.5rem;border-bottom:1.5px solid #EEE;display:flex;align-items:center;justify-content:space-between;}
.cart-header h3{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--brown);}
.cart-close{background:none;border:none;font-size:1.3rem;cursor:pointer;color:#999;padding:.2rem .5rem;border-radius:6px;transition:all .2s;}
.cart-close:hover{background:#F5F0EB;color:var(--brown);}
.cart-items{flex:1;overflow-y:auto;padding:1rem 1.5rem;}
.cart-item{display:flex;align-items:center;gap:.9rem;padding:.85rem 0;border-bottom:1px solid #F0EBE5;}
.ci-icon{font-size:1.8rem;width:44px;height:44px;background:var(--soft);border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.ci-info{flex:1;}
.ci-name{font-size:.85rem;font-weight:600;color:var(--brown);margin-bottom:.15rem;}
.ci-meta{font-size:.72rem;color:#9A8070;}
.ci-price{font-size:.9rem;font-weight:700;color:var(--warm);white-space:nowrap;}
.ci-qty{display:flex;align-items:center;gap:.4rem;margin-top:.3rem;}
.ci-qty button{width:22px;height:22px;border:1.5px solid #D8CCC4;border-radius:5px;background:#fff;cursor:pointer;font-size:.85rem;display:flex;align-items:center;justify-content:center;transition:all .2s;}
.ci-qty button:hover{background:var(--warm);color:#fff;border-color:var(--warm);}
.ci-qty span{font-size:.82rem;font-weight:600;color:var(--brown);min-width:18px;text-align:center;}
.ci-remove{background:none;border:none;color:#C0A090;cursor:pointer;font-size:.78rem;padding:.1rem .3rem;transition:all .2s;}
.ci-remove:hover{color:var(--rust);}
.cart-empty{text-align:center;padding:3rem 1rem;color:#B0A090;}
.cart-empty .ce-icon{font-size:3rem;margin-bottom:.8rem;}
.cart-footer{padding:1.2rem 1.5rem;border-top:1.5px solid #EEE;background:#FDFAF7;}
.cart-summary{margin-bottom:1rem;}
.cs-row{display:flex;justify-content:space-between;font-size:.82rem;color:#7A6A5A;margin-bottom:.35rem;}
.cs-row.total{font-size:.95rem;font-weight:700;color:var(--brown);border-top:1.5px dashed #D8CCC4;padding-top:.6rem;margin-top:.4rem;}
.checkout-btn{width:100%;background:linear-gradient(135deg,var(--warm),var(--rust));color:#fff;border:none;border-radius:12px;padding:.85rem;font-family:'DM Sans',sans-serif;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 16px rgba(193,127,74,.35);}
.checkout-btn:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(193,127,74,.45);}

/* Payment Modal */
.pay-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:600;display:none;align-items:center;justify-content:center;padding:1rem;backdrop-filter:blur(4px);}
.pay-modal-overlay.open{display:flex;}
.pay-modal{background:#fff;border-radius:24px;width:100%;max-width:500px;max-height:92vh;overflow-y:auto;animation:slideUp .35s cubic-bezier(.4,0,.2,1);}
@keyframes slideUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
.pay-header{padding:1.5rem 1.8rem 1rem;border-bottom:1.5px solid #EEE;display:flex;align-items:center;justify-content:space-between;}
.pay-header h3{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--brown);}
.pay-body{padding:1.5rem 1.8rem;}
.pay-amount-box{background:linear-gradient(135deg,#3D2B1F,#5C3D20);border-radius:16px;padding:1.2rem 1.5rem;margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center;}
.pab-label{color:#B8A090;font-size:.78rem;}
.pab-amount{color:#fff;font-size:1.6rem;font-weight:700;font-family:'Playfair Display',serif;}
.pab-items{color:#C8B0A0;font-size:.72rem;margin-top:.1rem;}
.pay-methods{margin-bottom:1.2rem;}
.pm-title{font-size:.72rem;font-weight:700;color:#9A8070;text-transform:uppercase;letter-spacing:.06em;margin-bottom:.7rem;}
.pm-tabs{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:.4rem;margin-bottom:1.2rem;}
.pm-tab{padding:.55rem .3rem;border:2px solid #E8DDD4;border-radius:10px;background:#fff;cursor:pointer;text-align:center;transition:all .2s;font-family:'DM Sans',sans-serif;}
.pm-tab .pt-icon{font-size:1.1rem;display:block;margin-bottom:.15rem;}
.pm-tab .pt-label{font-size:.62rem;color:#7A6A5A;font-weight:500;}
.pm-tab.active{border-color:var(--warm);background:rgba(193,127,74,.08);}
.pm-tab.active .pt-label{color:var(--warm);}

/* UPI Section */
.upi-section{display:none;}
.upi-section.active{display:block;}
.upi-apps{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;margin-bottom:1rem;}
.upi-app{border:2px solid #E8DDD4;border-radius:12px;padding:.8rem .6rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.6rem;}
.upi-app:hover,.upi-app.sel{border-color:var(--warm);background:rgba(193,127,74,.06);}
.upi-app .ua-icon{font-size:1.6rem;}
.upi-app .ua-name{font-size:.82rem;font-weight:600;color:var(--brown);}
.upi-app .ua-sub{font-size:.68rem;color:#9A8070;}
.upi-id-box{display:flex;gap:.5rem;align-items:center;}
.upi-id-box input{flex:1;border:1.5px solid #E8DDD4;border-radius:8px;padding:.55rem .8rem;font-size:.85rem;color:var(--brown);background:var(--cream);outline:none;transition:border .2s;}
.upi-id-box input:focus{border-color:var(--warm);}

/* Card Section */
.card-section{display:none;}
.card-section.active{display:block;}
.card-preview{background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);border-radius:16px;padding:1.3rem 1.5rem;margin-bottom:1rem;position:relative;overflow:hidden;}
.card-preview::before{content:'';position:absolute;top:-30px;right:-30px;width:120px;height:120px;background:rgba(255,255,255,.05);border-radius:50%;}
.card-preview::after{content:'';position:absolute;bottom:-20px;left:50px;width:80px;height:80px;background:rgba(255,255,255,.04);border-radius:50%;}
.cp-chip{font-size:1.4rem;margin-bottom:.8rem;}
.cp-number{font-size:1rem;color:rgba(255,255,255,.9);letter-spacing:.15em;font-family:monospace;margin-bottom:.6rem;}
.cp-bottom{display:flex;justify-content:space-between;align-items:flex-end;}
.cp-name{color:rgba(255,255,255,.7);font-size:.72rem;text-transform:uppercase;letter-spacing:.08em;}
.cp-exp{color:rgba(255,255,255,.7);font-size:.72rem;}
.card-fields{display:grid;gap:.65rem;}
.cf-row{display:grid;grid-template-columns:1fr 1fr;gap:.65rem;}
.cf-group{display:flex;flex-direction:column;gap:.25rem;}
.cf-group label{font-size:.68rem;font-weight:700;color:#7A6A5A;text-transform:uppercase;letter-spacing:.05em;}
.cf-group input{border:1.5px solid #E8DDD4;border-radius:8px;padding:.52rem .75rem;font-size:.85rem;color:var(--brown);background:var(--cream);outline:none;transition:border .2s;}
.cf-group input:focus{border-color:var(--warm);}

/* Netbanking Section */
.net-section{display:none;}
.net-section.active{display:block;}
.bank-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;margin-bottom:1rem;}
.bank-item{border:2px solid #E8DDD4;border-radius:10px;padding:.7rem .6rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem;}
.bank-item:hover,.bank-item.sel{border-color:var(--warm);background:rgba(193,127,74,.06);}
.bi-icon{font-size:1.3rem;}
.bi-name{font-size:.78rem;font-weight:600;color:var(--brown);}

/* Wallet Section */
.wallet-section{display:none;}
.wallet-section.active{display:block;}
.wallet-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;}
.wallet-item{border:2px solid #E8DDD4;border-radius:10px;padding:.8rem .6rem;cursor:pointer;transition:all .2s;text-align:center;}
.wallet-item:hover,.wallet-item.sel{border-color:var(--warm);background:rgba(193,127,74,.06);}
.wi-icon{font-size:1.5rem;display:block;margin-bottom:.25rem;}
.wi-name{font-size:.78rem;font-weight:600;color:var(--brown);}
.wi-bal{font-size:.68rem;color:var(--sage);}

/* Pay Button */
.pay-now-btn{width:100%;background:linear-gradient(135deg,#2E7D32,#4CAF50);color:#fff;border:none;border-radius:14px;padding:1rem;font-family:'DM Sans',sans-serif;font-size:1rem;font-weight:700;cursor:pointer;margin-top:1.2rem;transition:all .3s;box-shadow:0 4px 16px rgba(76,175,80,.3);display:flex;align-items:center;justify-content:center;gap:.5rem;}
.pay-now-btn:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(76,175,80,.4);}
.pay-now-btn.processing{background:linear-gradient(135deg,#7A6A5A,#5A4A3A);cursor:not-allowed;}
.secure-row{display:flex;align-items:center;justify-content:center;gap:.4rem;margin-top:.7rem;font-size:.7rem;color:#9A8070;}

/* Success State */
.pay-success{display:none;text-align:center;padding:2rem 1.5rem;}
.pay-success.show{display:block;}
.ps-checkmark{font-size:4rem;margin-bottom:1rem;animation:bounceIn .5s;}
@keyframes bounceIn{0%{transform:scale(0)}60%{transform:scale(1.1)}100%{transform:scale(1)}}
.ps-title{font-family:'Playfair Display',serif;font-size:1.4rem;color:var(--brown);margin-bottom:.5rem;}
.ps-sub{color:#9A8070;font-size:.85rem;margin-bottom:1.2rem;line-height:1.6;}
.ps-ref{background:var(--soft);border-radius:8px;padding:.6rem 1rem;font-size:.8rem;color:#7A6A5A;margin-bottom:1.2rem;}
.ps-ref strong{color:var(--brown);}

/* Razorpay-style trust bar */
.trust-bar{display:flex;align-items:center;justify-content:center;gap:1rem;padding:.6rem 1.8rem;border-top:1px solid #F0EBE5;font-size:.65rem;color:#B0A090;}
.tb-item{display:flex;align-items:center;gap:.25rem;}

</style>

</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PET PARENT APP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LANDING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="landing">
  <div class="landing">
    <div class="landing-logo">üêæ PawConnect</div>
    <p class="landing-sub">India's #1 Pet Parent Community Platform</p>
    <div class="role-cards">
      <div class="role-card" onclick="enterAs('parent')">
        <div class="ri">üêï</div>
        <h2>I'm a Pet Parent</h2>
        <p>Find mates, book vets, order food, book cabs, groom your pet & connect with the community</p>
        <button class="rc-btn">Enter as Pet Parent ‚Üí</button>
      </div>
      <div class="role-card doc-card" onclick="openVetPortal()" style="cursor:pointer;">
        <div class="ri">üë®‚Äç‚öïÔ∏è</div>
        <h2>I'm a Veterinarian</h2>
        <p>Manage your clinic, appointments, patient history, queue & schedule vaccination reminders</p>
        <button class="rc-btn" style="background:var(--blue);">Enter Veterinarian Portal ‚Üí</button>
      </div>
    </div>
    <p style="color:#6A5070;font-size:.78rem;margin-top:2rem;">Veterinarian Portal opens in a separate secure window</p>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PET PARENT APP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="app" style="display:none;">

<nav>
  <div class="logo">üêæ PawConnect</div>
  <button class="nav-btn active" onclick="showPage('home')">Home</button>
  <button class="nav-btn" onclick="showPage('verify')">‚úÖ Verify</button>
  <button class="nav-btn" onclick="showPage('profile')">My Pet</button>
  <button class="nav-btn" onclick="showPage('vets')">ü©∫ Vets</button>
  <button class="nav-btn" onclick="showPage('cab')">üöó Pet Cab</button>
  <button class="nav-btn" onclick="showPage('connect')">Find Mates</button>
  <button class="nav-btn" onclick="showPage('marketplace')">Buy/Sell</button>
  <button class="nav-btn" onclick="showPage('grooming')">‚úÇÔ∏è Grooming</button>
  <button class="nav-btn" onclick="showPage('lab')">üî¨ Lab</button>
  <button class="nav-btn" onclick="showPage('pantry')">Pantry üõí<span class="cart-badge" id="cartCount">0</span></button>
  <button class="nav-btn" onclick="showPage('trainer')">Trainers</button>
  <button class="nav-btn" onclick="showPage('creche')">Cr√®che</button>
  <button class="nav-btn" onclick="showPage('demo')">‚ñ∂ Demo</button>
  <div class="nav-spacer"></div>
  <button class="helpline-nav" onclick="showPage('helpline')">üìû 24/7</button>
  <button class="helpline-nav" onclick="logout()" style="background:#8B4513;margin-left:.4rem;">üö™ Logout</button>
</nav>

<!-- HOME -->
<div id="home" class="page active">
  <div style="min-height:calc(100vh - 58px);background:var(--brown);display:grid;grid-template-columns:1fr 1fr;align-items:center;padding:3rem 5%;gap:2rem;position:relative;overflow:hidden;">
    <div style="position:absolute;right:-5rem;top:50%;transform:translateY(-50%);font-size:28rem;opacity:.03;pointer-events:none;">üêæ</div>
    <div>
      <h1 style="font-family:'Playfair Display',serif;font-size:clamp(2rem,4vw,3.8rem);color:var(--cream);line-height:1.1;margin-bottom:1rem;">Where Pet Parents<br><em style="color:var(--warm);">Find Their Tribe</em></h1>
      <p style="color:#B8A090;font-size:.95rem;line-height:1.7;max-width:380px;margin-bottom:1.5rem;">Your complete pet care ecosystem ‚Äî vets, cabs, food, mates, grooming & community.</p>
      <div style="display:flex;gap:.8rem;flex-wrap:wrap;">
        <button class="btn-primary" onclick="showPage('verify')">Get Verified Free</button>
        <button style="background:none;color:var(--cream);border:1.5px solid rgba(255,255,255,.3);border-radius:22px;padding:.65rem 1.6rem;font-family:'DM Sans',sans-serif;font-size:.9rem;cursor:pointer;" onclick="showPage('demo')">‚ñ∂ Watch Demo</button>
      </div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.9rem;">
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('vets')" onmouseover="this.style.borderColor='var(--warm)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">ü©∫</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Book a Vet</h3><p style="color:#8A7A6E;font-size:.72rem;">Nearby clinics & appointments</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('cab')" onmouseover="this.style.borderColor='var(--cab)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üöó</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Pet Cab</h3><p style="color:#8A7A6E;font-size:.72rem;">Safe travel for your pet</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('connect')" onmouseover="this.style.borderColor='var(--warm)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üíû</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Find Mates</h3><p style="color:#8A7A6E;font-size:.72rem;">Mating zones & home visits</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('marketplace')" onmouseover="this.style.borderColor='var(--warm)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üè™</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Buy/Sell Pets</h3><p style="color:#8A7A6E;font-size:.72rem;">Verified marketplace</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('grooming')" onmouseover="this.style.borderColor='var(--purple)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">‚úÇÔ∏è</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Grooming</h3><p style="color:#8A7A6E;font-size:.72rem;">Salon or home visit</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('lab')" onmouseover="this.style.borderColor='var(--blue)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üî¨</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Lab Tests</h3><p style="color:#8A7A6E;font-size:.72rem;">Home sample collection</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('pantry')" onmouseover="this.style.borderColor='var(--warm)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üõçÔ∏è</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Pet Pantry</h3><p style="color:#8A7A6E;font-size:.72rem;">Top brands delivered fast</p></div>
      <div style="background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem;cursor:pointer;transition:all .25s;" onclick="showPage('creche')" onmouseover="this.style.borderColor='var(--sage)'" onmouseout="this.style.borderColor='rgba(255,255,255,.1)'"><div style="font-size:1.7rem;margin-bottom:.4rem;">üè†</div><h3 style="color:var(--cream);font-size:.88rem;font-weight:500;">Cr√®che & Boarding</h3><p style="color:#8A7A6E;font-size:.72rem;">Safe daycare near you</p></div>
    </div>
  </div>
</div>

<!-- VERIFY -->
<div id="verify" class="page">
  <div class="verify-page">
    <div class="verify-card">
      <div style="font-size:3.5rem;margin-bottom:.8rem;">üîê</div>
      <h2 style="font-family:'Playfair Display',serif;font-size:1.7rem;margin-bottom:.4rem;">Verify Your Account</h2>
      <p style="color:#6A5A50;margin-bottom:1.5rem;font-size:.85rem;line-height:1.6;">Enter your mobile number to unlock all features including vet booking, marketplace & breeding zone.</p>
      <div class="phone-row">
        <input type="tel" id="phoneInput" style="color:#3D2B1F !important;background:#FAF7F4 !important;" placeholder="+91 98765 43210" maxlength="15">
        <button class="send-btn" onclick="sendOTP()">Send OTP</button>
      </div>
      <div id="otpSection" style="display:none;margin-top:1.1rem;">
        <p style="font-size:.8rem;color:#6A5A50;margin-bottom:.7rem;">Enter 6-digit OTP (demo: 123456)</p>
        <div class="otp-input-row">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,0)" id="o0">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,1)" id="o1">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,2)" id="o2">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,3)" id="o3">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,4)" id="o4">
          <input class="otp-box" maxlength="1" oninput="otpNext(this,5)" id="o5">
        </div>
        <button class="btn-primary" style="width:100%;margin-top:.9rem;" onclick="verifyOTP()">Verify OTP</button>
      </div>
      <div id="verifiedBadge" style="display:none;margin-top:1rem;background:#E8F5E9;border:1.5px solid var(--sage);border-radius:12px;padding:.8rem;color:var(--sage);font-weight:600;font-size:.88rem;">‚úÖ Verified! Welcome to PawConnect üêæ</div>
    </div>
  </div>
</div>

<!-- MY PET PROFILE -->
<div id="profile" class="page">
  <div class="section">
    <div class="section-title">Create Pet Profile</div>
    <div class="section-sub">Build your pet's digital identity</div>
    <div class="form-card" style="max-width:640px;">
      <div class="form-grid">
        <div class="form-group full"><div style="border:2px dashed #D8CCC4;border-radius:10px;padding:1.3rem;text-align:center;color:#9A8A80;cursor:pointer;" onclick="toast('üì∑ Upload ready!')">üì∑ Upload pet photo</div></div>
        <div class="form-group"><label>Pet Name</label><input id="petName" placeholder="e.g. Bruno"></div>
        <div class="form-group"><label>Owner Name</label><input id="ownerName" placeholder="Your name"></div>
        <div class="form-group"><label>Pet Type</label><select id="petType" onchange="updateBreeds()"><option value="">Select</option><option>Dog</option><option>Cat</option><option>Rabbit</option><option>Bird</option></select></div>
        <div class="form-group"><label>Breed</label><select id="breedSelect"><option>Select type first</option></select></div>
        <div class="form-group"><label>Age</label><select id="petAge"><option>Under 1 yr</option><option>1‚Äì2 yrs</option><option>3‚Äì5 yrs</option><option>6+ yrs</option></select></div>
        <div class="form-group"><label>Location / City</label><input id="petCity" placeholder="City / Area"></div>
        <div class="form-group full"><label>Gender</label><div style="display:flex;gap:.5rem;"><div style="flex:1;padding:.5rem;border:1.5px solid #E8DDD4;border-radius:8px;text-align:center;cursor:pointer;" onclick="selectGender(this)" class="gbtn">‚ôÇ Male</div><div style="flex:1;padding:.5rem;border:1.5px solid #E8DDD4;border-radius:8px;text-align:center;cursor:pointer;" onclick="selectGender(this)" class="gbtn">‚ôÄ Female</div></div></div>
        <div class="form-group full"><label>Certifications</label><div style="display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.2rem;"><div class="cert-tag" onclick="toggleCert(this)">KCI Registered</div><div class="cert-tag" onclick="toggleCert(this)">Vaccinated</div><div class="cert-tag" onclick="toggleCert(this)">Health Tested</div><div class="cert-tag" onclick="toggleCert(this)">Pedigree</div><div class="cert-tag" onclick="toggleCert(this)">Microchipped</div></div></div>
        <div class="form-group full"><label>About</label><textarea id="petAbout" rows="2" placeholder="Temperament, traits..."></textarea></div>
      </div>
      <button class="btn-primary" style="margin-top:1rem;background:#8B4513;font-size:1rem;padding:.9rem 2rem;" onclick="savePet()">üíæ Save Pet Profile</button>
    </div>
  </div>
</div>

<!-- NEARBY VETS -->
<div id="vets" class="page">
  <div class="section">
    <div class="section-title">ü©∫ Book a Vet Nearby</div>
    <div class="section-sub">Browse verified veterinarians near you and book appointments instantly</div>
    <div class="filter-bar">
      <div class="filter-chip active" onclick="filterChip(this)">All Vets</div>
      <div class="filter-chip" onclick="filterChip(this)">Available Today</div>
      <div class="filter-chip" onclick="filterChip(this)">Dogs & Cats</div>
      <div class="filter-chip" onclick="filterChip(this)">Exotic Pets</div>
      <div class="filter-chip" onclick="filterChip(this)">Emergency</div>
      <div class="filter-chip" onclick="filterChip(this)">Within 5 km</div>
    </div>
    <div class="card-grid" style="grid-template-columns:repeat(auto-fill,minmax(280px,1fr));">

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üë®‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Rajeev Arora</h3>
            <p>BVSc, MVSc ¬∑ Small Animals</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9 <span style="color:#9A8070;font-size:.7rem;">(312 reviews)</span></div>
          </div>
          <div><span class="badge" style="position:static;display:inline-block;">‚úì Verified</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 2.3 km ¬∑ PawCare Clinic, Noida Sec-62</div>
          <div class="tag-row"><span class="tag">Dogs</span><span class="tag">Cats</span><span class="tag">Surgery</span><span class="tag">Vaccination</span></div>
          <div class="vet-avail"><span class="avail-slot">9 AM ‚úì</span><span class="avail-slot busy">10 AM Full</span><span class="avail-slot">11 AM ‚úì</span><span class="avail-slot">2 PM ‚úì</span><span class="avail-slot busy">4 PM Full</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ400 / visit</div><div class="wait" style="color:var(--rust);">Queue: <strong>3 patients</strong> <span class="queue-badge">~30 min wait</span></div></div></div>
          <button class="action-btn" onclick="openBooking('Dr. Rajeev Arora','Vet Appointment','6133916f-886a-4200-a225-f3440f52e118')">üìÖ Book Appointment</button>
        </div>
      </div>

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üë©‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Meena Gupta</h3>
            <p>BVSc ¬∑ General Practice</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.7 <span style="color:#9A8070;font-size:.7rem;">(198 reviews)</span></div>
          </div>
          <div><span class="badge badge-blue" style="position:static;display:inline-block;">‚úì Verified</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 4.1 km ¬∑ PetCare Centre, Vasundhara</div>
          <div class="tag-row"><span class="tag">Dogs</span><span class="tag">Cats</span><span class="tag">Rabbits</span><span class="tag">Deworming</span></div>
          <div class="vet-avail"><span class="avail-slot busy">9 AM Full</span><span class="avail-slot">10 AM ‚úì</span><span class="avail-slot">12 PM ‚úì</span><span class="avail-slot">3 PM ‚úì</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ350 / visit</div><div class="wait">Queue: <strong>1 patient</strong> <span class="queue-badge" style="background:var(--sage);">~10 min wait</span></div></div></div>
          <button class="action-btn" onclick="openBooking('Dr. Meena Gupta','Vet Appointment','c003e8ac-b254-4e11-ab7c-adc3b5f257b8')">üìÖ Book Appointment</button>
        </div>
      </div>

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üßë‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Anil Sharma</h3>
            <p>MVSc ¬∑ Surgery & Ortho</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8 <span style="color:#9A8070;font-size:.7rem;">(267 reviews)</span></div>
          </div>
          <div><span class="badge" style="position:static;display:inline-block;">‚úì Verified</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 6.2 km ¬∑ AnimalCare Hospital, Delhi</div>
          <div class="tag-row"><span class="tag">Surgery</span><span class="tag">Ortho</span><span class="tag">Emergency</span><span class="tag">X-Ray</span></div>
          <div class="vet-avail"><span class="avail-slot">10 AM ‚úì</span><span class="avail-slot busy">11 AM Full</span><span class="avail-slot">1 PM ‚úì</span><span class="avail-slot">5 PM ‚úì</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ600 / visit</div><div class="wait" style="color:var(--rust);">Queue: <strong>5 patients</strong> <span class="queue-badge">~50 min wait</span></div></div></div>
          <button class="action-btn" onclick="openBooking('Dr. Anil Sharma','Vet Appointment','4c3095f7-fc34-4977-bdc2-cb06bcce6ea3')">üìÖ Book Appointment</button>
        </div>
      </div>

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üë©‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Sunita Rao</h3>
            <p>BVSc ¬∑ Exotic & Birds</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0 <span style="color:#9A8070;font-size:.7rem;">(89 reviews)</span></div>
          </div>
          <div><span class="badge badge-purple" style="position:static;display:inline-block;">Exotic Specialist</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 8.0 km ¬∑ ExoticPet Clinic, Indirapuram</div>
          <div class="tag-row"><span class="tag">Birds</span><span class="tag">Rabbits</span><span class="tag">Reptiles</span><span class="tag">Fish</span></div>
          <div class="vet-avail"><span class="avail-slot">11 AM ‚úì</span><span class="avail-slot">2 PM ‚úì</span><span class="avail-slot">4 PM ‚úì</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ500 / visit</div><div class="wait"><span class="queue-badge" style="background:var(--sage);">No wait</span></div></div></div>
          <button class="action-btn" onclick="openBooking('Dr. Sunita Rao','Vet Appointment','14d525b2-508f-45ee-b017-45fa543498c1')">üìÖ Book Appointment</button>
        </div>
      </div>

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üë®‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Rahul Verma</h3>
            <p>BVSc ¬∑ Home Visits Available</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.6 <span style="color:#9A8070;font-size:.7rem;">(143 reviews)</span></div>
          </div>
          <div><span class="badge badge-blue" style="position:static;display:inline-block;">Home Visit</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 3.5 km ¬∑ PetHealth Hub, Ghaziabad</div>
          <div class="tag-row"><span class="tag">Home Visits</span><span class="tag">Vaccination</span><span class="tag">Check-up</span></div>
          <div class="vet-avail"><span class="avail-slot">Any time ‚úì</span><span class="avail-slot">Home Visit</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ700 / home visit</div><div class="wait" style="color:var(--sage);">Arrives in ~45 min</div></div></div>
          <button class="action-btn sage" onclick="openBooking('Dr. Rahul Verma ‚Äì Home Visit','Vet Appointment','992b98e2-5cac-47b1-9897-2183f418ae82')">üè† Book Home Visit</button>
        </div>
      </div>

      <div class="vet-card">
        <div class="vet-header">
          <div class="vet-avatar">üë©‚Äç‚öïÔ∏è</div>
          <div style="flex:1;">
            <h3>Dr. Priya Nair</h3>
            <p>MVSc ¬∑ Dermatology</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9 <span style="color:#9A8070;font-size:.7rem;">(201 reviews)</span></div>
          </div>
          <div><span class="badge badge-purple" style="position:static;display:inline-block;">Skin Specialist</span></div>
        </div>
        <div class="vet-body">
          <div style="font-size:.78rem;color:#6A5A50;margin-bottom:.6rem;">üìç 5.4 km ¬∑ DermaPet Clinic, Raj Nagar</div>
          <div class="tag-row"><span class="tag">Skin</span><span class="tag">Allergies</span><span class="tag">Coat Care</span><span class="tag">Ear</span></div>
          <div class="vet-avail"><span class="avail-slot">10 AM ‚úì</span><span class="avail-slot">12 PM ‚úì</span><span class="avail-slot busy">3 PM Full</span></div>
          <div class="fee-row"><div><div class="fee">‚Çπ550 / visit</div><div class="wait"><span class="queue-badge" style="background:var(--sage);">~5 min wait</span></div></div></div>
          <button class="action-btn" onclick="openBooking('Dr. Priya Nair','Vet Appointment','e8e3d25c-9abb-4449-bde4-ea67185e6dc0')">üìÖ Book Appointment</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- PET CAB -->
<div id="cab" class="page">
  <div class="section">
    <div class="section-title">üöó Pet Cab Booking</div>
    <div class="section-sub">Book a ride anywhere ‚Äî pet-friendly, safe, and available 24/7</div>

    <div class="cab-feature-strip">
      <div class="cab-feature"><div class="cfi">üêæ</div><h4>Pet-Safe Vehicles</h4><p>Specially fitted cabs with pet carriers</p></div>
      <div class="cab-feature"><div class="cfi">üõ°Ô∏è</div><h4>Trained Drivers</h4><p>All drivers are pet-friendly certified</p></div>
      <div class="cab-feature"><div class="cfi">üå°Ô∏è</div><h4>Climate Control</h4><p>AC maintained for pet comfort</p></div>
      <div class="cab-feature"><div class="cfi">üìç</div><h4>Live Tracking</h4><p>Real-time GPS tracking</p></div>
    </div>

    <div class="cab-hero">
      <div>
        <h2>Book a Ride for Your Pet üêæ</h2>
        <p>Going anywhere with your pet? Airport, parks, hotels, groomers, or vet ‚Äî our pet-trained drivers ensure a safe and stress-free journey for you and your furry companion.</p>
        <div style="display:flex;gap:.6rem;flex-wrap:wrap;">
          <div style="background:rgba(255,255,255,.1);border-radius:10px;padding:.6rem 1rem;font-size:.8rem;color:var(--cab);font-weight:500;">üïê Available 24/7</div>
          <div style="background:rgba(255,255,255,.1);border-radius:10px;padding:.6rem 1rem;font-size:.8rem;color:var(--cream);">‚úÖ No extra charges for pets</div>
        </div>
      </div>
      <div class="cab-form-box">
        <h4>üìç Where to?</h4>
        <div style="display:flex;flex-direction:column;gap:.7rem;">
          <input placeholder="üìç Pickup location" style="background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:var(--cream);">
          <input placeholder="üìç Drop location (anywhere you need to go)" style="background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:var(--cream);">
          <input type="datetime-local" style="background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:var(--cream);">
          <h4 style="margin-top:.3rem;">Vehicle Type</h4>
          <div class="cab-type-row">
            <div class="cab-type sel" id="ct1" onclick="selCabType('ct1')"><div class="ct-icon">üöó</div><div class="ct-name">Sedan</div><div class="ct-price">From ‚Çπ120</div></div>
            <div class="cab-type" id="ct2" onclick="selCabType('ct2')"><div class="ct-icon">üöê</div><div class="ct-name">SUV</div><div class="ct-price">From ‚Çπ180</div></div>
            <div class="cab-type" id="ct3" onclick="selCabType('ct3')"><div class="ct-icon">üöë</div><div class="ct-name">Pet Ambulance</div><div class="ct-price">From ‚Çπ350</div></div>
          </div>
          <button class="btn-primary" style="width:100%;padding:.75rem;" onclick="bookAndPay('cab', 350, 'Pet Cab Booking ¬∑ Sedan ¬∑ Estimated fare')">üîç Find Pet Cab</button>
        </div>
      </div>
    </div>

    <h3 style="font-size:1.1rem;font-weight:600;margin-bottom:1.2rem;">Our Pet-Trained Drivers</h3>
    <div class="drivers-grid">

      <div class="driver-card">
        <div class="driver-head">
          <div class="driver-av">üë®‚Äçü¶±</div>
          <div>
            <h3>Ravi Kumar</h3>
            <p>üöó Sedan ¬∑ 5 yrs experience</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9</div>
          </div>
          <div style="margin-left:auto;"><span style="background:#E8F5E9;color:var(--sage);font-size:.7rem;padding:.2rem .5rem;border-radius:6px;font-weight:600;">Available</span></div>
        </div>
        <div class="tag-row"><span class="tag">Pet Trained</span><span class="tag">First Aid</span><span class="tag">AC Car</span></div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;"><span style="font-size:.95rem;font-weight:700;color:var(--cab);">‚Çπ130 / km</span><span style="font-size:.75rem;color:#9A8070;">2.1 km away</span></div>
        <button class="action-btn cab" onclick="openPayModal('cab', 450, 'Pet Cab ¬∑ Ravi Kumar ¬∑ Sedan')">Book This Driver</button>
      </div>

      <div class="driver-card">
        <div class="driver-head">
          <div class="driver-av">üë©</div>
          <div>
            <h3>Neha Sharma</h3>
            <p>üöê SUV ¬∑ 3 yrs experience</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div>
          </div>
          <div style="margin-left:auto;"><span style="background:#E8F5E9;color:var(--sage);font-size:.7rem;padding:.2rem .5rem;border-radius:6px;font-weight:600;">Available</span></div>
        </div>
        <div class="tag-row"><span class="tag">Female Driver</span><span class="tag">Large Breeds</span><span class="tag">SUV</span></div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;"><span style="font-size:.95rem;font-weight:700;color:var(--cab);">‚Çπ185 / km</span><span style="font-size:.75rem;color:#9A8070;">3.4 km away</span></div>
        <button class="action-btn cab" onclick="openPayModal('cab', 680, 'Pet Cab ¬∑ Neha Sharma ¬∑ SUV')">Book This Driver</button>
      </div>

      <div class="driver-card">
        <div class="driver-head">
          <div class="driver-av">üë®</div>
          <div>
            <h3>Arjun Singh</h3>
            <p>üöë Pet Ambulance ¬∑ 7 yrs</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0</div>
          </div>
          <div style="margin-left:auto;"><span style="background:#E8F5E9;color:var(--sage);font-size:.7rem;padding:.2rem .5rem;border-radius:6px;font-weight:600;">Available</span></div>
        </div>
        <div class="tag-row"><span class="tag">Emergency</span><span class="tag">O2 Equipped</span><span class="tag">Vet Assist</span></div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;"><span style="font-size:.95rem;font-weight:700;color:var(--cab);">‚Çπ360 / km</span><span style="font-size:.75rem;color:#9A8070;">4.8 km away</span></div>
        <button class="action-btn cab" onclick="toast('üöë Emergency pet cab dispatched! Arjun Singh arriving in 15 min')">Book Emergency Cab</button>
      </div>

      <div class="driver-card">
        <div class="driver-head">
          <div class="driver-av">üë®‚Äçü¶≥</div>
          <div>
            <h3>Mohan Lal</h3>
            <p>üöó Sedan ¬∑ 9 yrs experience</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.7</div>
          </div>
          <div style="margin-left:auto;"><span style="background:#FFF3E0;color:#E65100;font-size:.7rem;padding:.2rem .5rem;border-radius:6px;font-weight:600;">On trip</span></div>
        </div>
        <div class="tag-row"><span class="tag">Senior Pets</span><span class="tag">Calm Driving</span><span class="tag">Carrier Provided</span></div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;"><span style="font-size:.95rem;font-weight:700;color:var(--cab);">‚Çπ125 / km</span><span style="font-size:.75rem;color:#9A8070;">Free in ~25 min</span></div>
        <button class="action-btn brown" onclick="toast('üìÖ Mohan scheduled for later! Will be available in ~25 min')">Schedule Later</button>
      </div>

    </div>

    <div style="background:var(--white);border-radius:16px;padding:1.5rem;margin-top:2rem;box-shadow:0 2px 14px rgba(61,43,31,.06);">
      <h3 style="font-size:1rem;font-weight:600;margin-bottom:1rem;">üì¶ Cab Packages</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;">
        <div style="background:var(--cream);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;"><h4 style="font-size:.88rem;font-weight:600;margin-bottom:.3rem;">üè• Vet Ride</h4><p style="font-size:.75rem;color:#9A8070;margin-bottom:.6rem;">To & from vet clinic. Wait included.</p><div style="font-weight:700;color:var(--warm);font-size:.95rem;margin-bottom:.6rem;">‚Çπ299 flat</div><button class="action-btn" style="font-size:.78rem;padding:.4rem;" onclick="openBooking('Vet Ride Package','Cab')">Book Package</button></div>
        <div style="background:var(--cream);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;"><h4 style="font-size:.88rem;font-weight:600;margin-bottom:.3rem;">‚úÇÔ∏è Grooming Ride</h4><p style="font-size:.75rem;color:#9A8070;margin-bottom:.6rem;">Drop & pick from grooming salon.</p><div style="font-weight:700;color:var(--warm);font-size:.95rem;margin-bottom:.6rem;">‚Çπ249 flat</div><button class="action-btn" style="font-size:.78rem;padding:.4rem;" onclick="openBooking('Grooming Ride Package','Cab')">Book Package</button></div>
        <div style="background:var(--cream);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;"><h4 style="font-size:.88rem;font-weight:600;margin-bottom:.3rem;">üè† Cr√®che Drop</h4><p style="font-size:.75rem;color:#9A8070;margin-bottom:.6rem;">Drop off & pick up from cr√®che.</p><div style="font-weight:700;color:var(--warm);font-size:.95rem;margin-bottom:.6rem;">‚Çπ199 flat</div><button class="action-btn" style="font-size:.78rem;padding:.4rem;" onclick="openBooking('Creche Drop Package','Cab')">Book Package</button></div>
        <div style="background:var(--cream);border-radius:12px;padding:1rem;border:1.5px solid var(--rust);"><h4 style="font-size:.88rem;font-weight:600;margin-bottom:.3rem;color:var(--rust);">üö® Emergency</h4><p style="font-size:.75rem;color:#9A8070;margin-bottom:.6rem;">Immediate dispatch. O2 equipped.</p><div style="font-weight:700;color:var(--rust);font-size:.95rem;margin-bottom:.6rem;">‚Çπ99 base + meter</div><button class="action-btn" style="background:var(--rust);font-size:.78rem;padding:.4rem;" onclick="toast('üö® Emergency cab dispatched! ETA 8 min')">Emergency Now</button></div>
      </div>
    </div>
  </div>
</div>

<!-- FIND MATES -->
<div id="connect" class="page">
  <div class="section">
    <div class="section-title">Find Nearby Pet Parents</div>
    <div class="section-sub">Connect for breeding ‚Äî choose your mating preference</div>
    <div style="background:var(--white);border-radius:16px;padding:1.3rem;margin-bottom:1.8rem;box-shadow:0 2px 14px rgba(61,43,31,.07);">
      <h3 style="font-size:.95rem;font-weight:600;margin-bottom:.9rem;">üè† Choose Mating Venue</h3>
      <div class="mate-choice">
        <div class="mate-option sel" id="mateOpt1" onclick="selectMateOpt('mateOpt1','mateOpt2')"><div class="mo-icon">üè•</div><h3>PawConnect Zone</h3><p>At partner vet clinic. Supervised, medical support on-site.</p><div style="margin-top:.6rem;font-size:.72rem;color:var(--sage);font-weight:500;">‚úÖ From ‚Çπ1,200</div></div>
        <div class="mate-option" id="mateOpt2" onclick="selectMateOpt('mateOpt2','mateOpt1')"><div class="mo-icon">üè°</div><h3>Your Own Venue</h3><p>Trained assistant sent to your location.</p><div style="margin-top:.6rem;font-size:.72rem;color:var(--warm);font-weight:500;">üêæ From ‚Çπ800</div></div>
      </div>
      <div id="matingZones"><div style="display:grid;grid-template-columns:1fr 1fr;gap:.8rem;"><div style="background:var(--cream);border-radius:10px;padding:1rem;border-left:3px solid var(--sage);"><strong style="font-size:.85rem;">üè• PawCare Clinic ¬∑ Noida</strong><p style="font-size:.76rem;color:#9A8070;margin:.3rem 0;">Dr. Arora's clinic ¬∑ AC room ¬∑ Vet on-site</p><button class="action-btn sage" style="font-size:.76rem;padding:.4rem;" onclick="openBooking('PawCare Mating Zone','Mating')">Book Zone</button></div><div style="background:var(--cream);border-radius:10px;padding:1rem;border-left:3px solid var(--warm);"><strong style="font-size:.85rem;">üè• PetPlus ¬∑ Ghaziabad</strong><p style="font-size:.76rem;color:#9A8070;margin:.3rem 0;">CCTV ¬∑ Lounge ¬∑ Separate entrances</p><button class="action-btn" style="font-size:.76rem;padding:.4rem;" onclick="openBooking('PetPlus Mating Zone','Mating')">Book Zone</button></div></div></div>
      <div id="homeVenueForm" style="display:none;"><div class="form-grid" style="max-width:480px;margin-top:.8rem;"><div class="form-group"><label>Address</label><input placeholder="Full address"></div><div class="form-group"><label>Date</label><input type="date"></div><div class="form-group full"><label>Notes</label><input placeholder="Special requirements..."></div></div><button class="action-btn" style="margin-top:.7rem;width:auto;padding:.5rem 1.3rem;" onclick="toast('‚úÖ Trained assistant will be assigned!')">Confirm Home Visit</button></div>
    </div>
    <div class="filter-bar"><div class="filter-chip active" onclick="filterChip(this)">All</div><div class="filter-chip" onclick="filterChip(this)">Dogs</div><div class="filter-chip" onclick="filterChip(this)">Cats</div><div class="filter-chip" onclick="filterChip(this)">Verified</div></div>
    <div class="card-grid">
      <div class="card"><div class="card-img" style="background:#FFF3E0"><span>üêï</span><span class="badge">‚úì KCI</span></div><div class="card-body"><h3>Max</h3><div class="meta"><span>Golden Retriever</span><span>‚ôÇ</span><span>3 yrs</span></div><div class="dist">üìç 2.4 km ¬∑ Noida</div><button class="action-btn" onclick="openBooking('Max ‚Äì Mating','Mating')">üíû Connect</button></div></div>
      <div class="card"><div class="card-img" style="background:#FFF8E1"><span>üêà</span><span class="badge">‚úì Pedigree</span></div><div class="card-body"><h3>Luna</h3><div class="meta"><span>Persian</span><span>‚ôÄ</span><span>2 yrs</span></div><div class="dist">üìç 3.1 km ¬∑ Ghaziabad</div><button class="action-btn" onclick="openBooking('Luna ‚Äì Mating','Mating')">üíû Connect</button></div></div>
      <div class="card"><div class="card-img" style="background:#F3E5F5"><span>üêï‚Äçü¶∫</span><span class="badge">‚úì Vaccinated</span></div><div class="card-body"><h3>Rocky</h3><div class="meta"><span>G. Shepherd</span><span>‚ôÇ</span><span>4 yrs</span></div><div class="dist">üìç 5.8 km ¬∑ Delhi</div><button class="action-btn" onclick="openBooking('Rocky ‚Äì Mating','Mating')">üíû Connect</button></div></div>
      <div class="card"><div class="card-img" style="background:#E8F5E9"><span>üêá</span><span class="badge">‚úì Health Tested</span></div><div class="card-body"><h3>Coco</h3><div class="meta"><span>Holland Lop</span><span>‚ôÄ</span><span>1 yr</span></div><div class="dist">üìç 7.2 km</div><button class="action-btn" onclick="openBooking('Coco ‚Äì Mating','Mating')">üíû Connect</button></div></div>
    </div>
  </div>
</div>

<!-- MARKETPLACE -->
<div id="marketplace" class="page">
  <div class="section">
    <div class="section-title">Pet Marketplace üè™</div>
    <div class="section-sub">Buy, adopt or rehome pets from verified parents</div>
    <div class="market-tabs"><div class="market-tab active" onclick="mktTab(this,'listings')">Browse Listings</div><div class="market-tab" onclick="mktTab(this,'sell')">+ List Your Pet</div></div>
    <div id="listings">
      <div class="filter-bar"><div class="filter-chip active" onclick="filterChip(this)">All</div><div class="filter-chip" onclick="filterChip(this)">Dogs</div><div class="filter-chip" onclick="filterChip(this)">Cats</div><div class="filter-chip" onclick="filterChip(this)">Adoption</div></div>
      <div class="card-grid">
        <div class="card"><div class="card-img" style="background:#FFF3E0"><span>üêï</span><span class="badge badge-blue">Verified</span></div><div class="card-body"><h3>Golden Pup ¬∑ 45 days</h3><div class="meta"><span>Golden Retriever</span><span>‚ôÇ</span></div><div style="font-size:1.1rem;font-weight:700;color:var(--rust);margin-bottom:.4rem;">‚Çπ18,000</div><div class="dist">üìç Noida</div><button class="action-btn" onclick="toast('üì© Enquiry sent!')">Enquire</button></div></div>
        <div class="card"><div class="card-img" style="background:#FFF8E1"><span>üêà</span><span class="badge badge-purple">Adoption</span></div><div class="card-body"><h3>Whiskers ¬∑ 2 yrs</h3><div class="meta"><span>Persian Cat</span><span>‚ôÄ</span></div><div style="font-size:1.1rem;font-weight:700;color:var(--sage);margin-bottom:.4rem;">Free ¬∑ Adopt</div><div class="dist">üìç Vasundhara</div><button class="action-btn sage" onclick="toast('üêæ Adoption request sent!')">Adopt</button></div></div>
        <div class="card"><div class="card-img" style="background:#E8F5E9"><span>üêá</span><span class="badge badge-blue">Verified</span></div><div class="card-body"><h3>Fluffy Pair ¬∑ 60 days</h3><div class="meta"><span>Holland Lop</span><span>Pair</span></div><div style="font-size:1.1rem;font-weight:700;color:var(--rust);margin-bottom:.4rem;">‚Çπ4,500</div><div class="dist">üìç Indirapuram</div><button class="action-btn" onclick="toast('üì© Enquiry sent!')">Enquire</button></div></div>
        <div class="card"><div class="card-img" style="background:#E3F2FD"><span>ü¶ú</span><span class="badge badge-blue">Verified</span></div><div class="card-body"><h3>African Grey ¬∑ 8 mo</h3><div class="meta"><span>African Grey</span><span>‚ôÇ</span></div><div style="font-size:1.1rem;font-weight:700;color:var(--rust);margin-bottom:.4rem;">‚Çπ45,000</div><div class="dist">üìç Delhi</div><button class="action-btn" onclick="toast('üì© Enquiry sent!')">Enquire</button></div></div>
      </div>
    </div>
    <div id="sell" style="display:none;">
      <div class="form-card" style="max-width:620px;">
        <h3 style="font-family:'Playfair Display',serif;font-size:1.3rem;margin-bottom:1rem;">List Your Pet</h3>
        <div class="form-grid">
          <div class="form-group full"><div style="border:2px dashed #D8CCC4;border-radius:10px;padding:1.2rem;text-align:center;color:#9A8A80;cursor:pointer;" onclick="toast('üì∑ Upload ready!')">üì∑ Upload Photos</div></div>
          <div class="form-group"><label>Pet Name</label><input placeholder="Name"></div>
          <div class="form-group"><label>Type</label><select><option>Dog</option><option>Cat</option><option>Rabbit</option><option>Bird</option></select></div>
          <div class="form-group"><label>Breed</label><input placeholder="Breed"></div>
          <div class="form-group"><label>Age</label><input placeholder="e.g. 45 days"></div>
          <div class="form-group"><label>Listing Type</label><select><option>For Sale</option><option>Adoption</option><option>Stud Service</option></select></div>
          <div class="form-group"><label>Price (‚Çπ)</label><input type="number" placeholder="0 for free"></div>
          <div class="form-group full"><label>Description</label><textarea rows="2" placeholder="Details..."></textarea></div>
        </div>
        <button class="btn-primary" style="margin-top:1rem;" onclick="toast('‚úÖ Listing submitted for review!')">Submit Listing</button>
      </div>
    </div>
  </div>
</div>

<!-- GROOMING -->
<div id="grooming" class="page">
  <div class="section">
    <div class="section-title">‚úÇÔ∏è Pet Grooming</div>
    <div class="section-sub">Salon visit or home groomer ‚Äî your choice</div>
    <div class="groom-choice">
      <div class="groom-opt sel" id="groomOpt1" onclick="selectGroomOpt('groomOpt1','groomOpt2','groomShops','groomHome')"><div class="gi">üè™</div><h3>Visit a Salon</h3><p>Drop-off at grooming studio</p><div style="margin-top:.5rem;font-size:.74rem;color:var(--purple);font-weight:500;">From ‚Çπ399</div></div>
      <div class="groom-opt" id="groomOpt2" onclick="selectGroomOpt('groomOpt2','groomOpt1','groomHome','groomShops')"><div class="gi">üè†</div><h3>Home Grooming</h3><p>Groomer comes to you</p><div style="margin-top:.5rem;font-size:.74rem;color:var(--warm);font-weight:500;">From ‚Çπ599</div></div>
    </div>
    <div id="groomShops">
      <div class="card-grid">
        <div class="card"><div class="card-img" style="background:#F5F0FF"><span>‚úÇÔ∏è</span><span class="badge badge-purple">Top Rated</span></div><div class="card-body"><h3>Pawfect Salon</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9</div><div class="dist">üìç 2.1 km ¬∑ Noida</div><div class="tag-row"><span class="tag">Bath & Dry</span><span class="tag">Haircut</span><span class="tag">Nail Trim</span></div><button class="action-btn purple" onclick="openBooking('Pawfect Salon','Grooming')">Book</button></div></div>
        <div class="card"><div class="card-img" style="background:#EDE7F6"><span>üõÅ</span><span class="badge badge-purple">Verified</span></div><div class="card-body"><h3>Shiny Paws Studio</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.6</div><div class="dist">üìç 3.8 km ¬∑ Ghaziabad</div><div class="tag-row"><span class="tag">Spa</span><span class="tag">De-shedding</span></div><button class="action-btn purple" onclick="openBooking('Shiny Paws Studio','Grooming')">Book</button></div></div>
        <div class="card"><div class="card-img" style="background:#F3E5F5"><span>üíÖ</span><span class="badge badge-purple">Premium</span></div><div class="card-body"><h3>The Fur Boutique</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div><div class="dist">üìç 5.5 km ¬∑ Delhi</div><div class="tag-row"><span class="tag">Premium</span><span class="tag">Styling</span></div><button class="action-btn purple" onclick="openBooking('The Fur Boutique','Grooming')">Book</button></div></div>
      </div>
    </div>
    <div id="groomHome" style="display:none;">
      <div class="trainers-grid">
        <div class="trainer-card"><div class="trainer-header" style="background:var(--purple);"><div class="trainer-avatar">üë©‚Äçüé®</div><div><h3>Ritu Sharma</h3><p style="color:rgba(255,255,255,.7);">5 yrs ¬∑ Dogs & Cats</p><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div></div><div class="trainer-body"><div class="tag-row"><span class="tag">Bath</span><span class="tag">Haircut</span><span class="tag">Nail Trim</span></div><div style="display:flex;justify-content:space-between;margin-bottom:.7rem;"><span style="font-weight:700;color:var(--purple);">‚Çπ649/visit</span><span style="color:var(--sage);font-size:.76rem;">‚úÖ Today</span></div><button class="action-btn purple" onclick="openBooking('Ritu Sharma','Home Grooming')">Book Home Visit</button></div></div>
        <div class="trainer-card"><div class="trainer-header" style="background:#3B2A40;"><div class="trainer-avatar">üßë‚Äçüé®</div><div><h3>Deepak Verma</h3><p style="color:rgba(255,255,255,.7);">8 yrs ¬∑ All Breeds</p><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div></div></div><div class="trainer-body"><div class="tag-row"><span class="tag">Spa</span><span class="tag">Styling</span><span class="tag">De-shedding</span></div><div style="display:flex;justify-content:space-between;margin-bottom:.7rem;"><span style="font-weight:700;color:var(--purple);">‚Çπ749/visit</span><span style="color:var(--warm);font-size:.76rem;">Tomorrow</span></div><button class="action-btn purple" onclick="openBooking('Deepak Verma','Home Grooming')">Book Home Visit</button></div></div>
      </div>
    </div>
  </div>
</div>

<!-- LAB TESTS -->
<div id="lab" class="page">
  <div class="section">
    <div class="section-title">üî¨ Book Lab Tests</div>
    <div class="section-sub">Diagnostic tests ‚Äî home collection or walk-in</div>
    <div style="background:var(--blue);border-radius:14px;padding:1.1rem 1.4rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:.8rem;"><span style="font-size:1.8rem;">üöó</span><div><strong style="color:#fff;font-size:.9rem;">Home Sample Collection Available</strong><p style="color:rgba(255,255,255,.75);font-size:.78rem;">Technician visits your home. Results in 24‚Äì48 hrs.</p></div></div>
    <div class="lab-grid">
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">ü©∏</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">CBC Blood Count</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">RBC, WBC, platelets</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ499</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 24 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('CBC Blood Test','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">ü´Ä</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Kidney Function</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">BUN, Creatinine</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ699</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 24 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Kidney Function Test','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">ü´Å</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Liver Panel</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">ALT, AST, Bilirubin</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ749</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 24 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Liver Panel','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">ü¶†</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Stool Exam</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Parasites & bacteria</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ299</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 12 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Stool Exam','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">üì∏</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">X-Ray (Digital)</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Bone & chest imaging</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ899</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± Same day</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('X-Ray','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">üß¨</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Allergy Panel</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">30 food & env. antigens</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ2,499</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 48 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Allergy Panel','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">üîä</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Ultrasound</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Abdominal & cardiac</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ1,299</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± Same day</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Ultrasound','Lab')">Book</button></div>
      <div class="lab-card"><div style="font-size:2.2rem;margin-bottom:.5rem;">ü´ß</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Urine Analysis</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Full profile & microscopy</p><div style="font-size:.95rem;font-weight:700;color:var(--blue);margin-bottom:.4rem;">‚Çπ349</div><div style="font-size:.7rem;color:var(--sage);margin-bottom:.6rem;">‚è± 12 hrs</div><button class="action-btn blue" style="font-size:.78rem;" onclick="openBooking('Urine Analysis','Lab')">Book</button></div>
    </div>
  </div>
</div>

<!-- PANTRY -->
<div id="pantry" class="page">
  <div class="section">
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.7rem;margin-bottom:.3rem;">
      <div class="section-title" style="margin-bottom:0;">Pet Pantry üõçÔ∏è</div>
      <button onclick="openCart()" style="background:var(--warm);color:#fff;border:none;border-radius:20px;padding:.5rem 1.2rem;font-family:'DM Sans',sans-serif;font-size:.84rem;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:.4rem;">üõí View Cart (<span id="pantryCartCount">0</span>)</button>
    </div>
    <div class="section-sub">Premium branded food + accessories delivered</div>
    <div class="filter-bar">
      <div class="filter-chip active" onclick="filterChip(this)">All</div>
      <div class="filter-chip" onclick="filterChip(this)">Dog Food Brands</div>
      <div class="filter-chip" onclick="filterChip(this)">Cat Food</div>
      <div class="filter-chip" onclick="filterChip(this)">Toys</div>
      <div class="filter-chip" onclick="filterChip(this)">Health</div>
      <div class="filter-chip" onclick="filterChip(this)">Accessories</div>
    </div>

    <!-- BRAND SECTION -->
    <div style="background:var(--brown);border-radius:16px;padding:1.3rem 1.5rem;margin-bottom:1.5rem;">
      <h3 style="color:var(--cream);font-size:1rem;font-weight:600;margin-bottom:.3rem;">üèÜ Top Dog Food Brands</h3>
      <p style="color:#8A7060;font-size:.78rem;">Authentic products from trusted brands, direct delivery</p>
    </div>
    <div class="brand-grid">

      <!-- ROYAL CANIN -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#CC2B2B,#8B1A1A);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üëë</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.08em;">ROYAL CANIN</div>
          <div class="brand-badge">Best Seller</div>
        </div>
        <div class="brand-card-body">
          <h3>Royal Canin Adult Dog</h3>
          <p>Breed-specific nutrition ¬∑ 3kg pack</p>
          <div class="bprice">‚Çπ1,850</div>
          <button class="add-btn" onclick="addCart('Royal Canin Adult Dog', 1850, 'üëë')">Add to Cart</button>
        </div>
      </div>
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#CC2B2B,#8B1A1A);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üëë</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.08em;">ROYAL CANIN</div>
          <div class="brand-badge">Puppy Special</div>
        </div>
        <div class="brand-card-body">
          <h3>Royal Canin Puppy</h3>
          <p>For puppies under 12 months ¬∑ 2kg</p>
          <div class="bprice">‚Çπ1,450</div>
          <button class="add-btn" onclick="addCart('Royal Canin Puppy', 1450, 'üëë')">Add to Cart</button>
        </div>
      </div>

      <!-- PEDIGREE -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#1565C0,#0D47A1);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üêï</div>
          <div style="color:#FFD700;font-size:.75rem;font-weight:800;letter-spacing:.06em;">PEDIGREE</div>
          <div class="brand-badge">Popular</div>
        </div>
        <div class="brand-card-body">
          <h3>Pedigree Adult Chicken</h3>
          <p>Chicken & rice formula ¬∑ 3kg</p>
          <div class="bprice">‚Çπ799</div>
          <button class="add-btn" onclick="addCart('Pedigree Adult Chicken', 799, 'üêï')">Add to Cart</button>
        </div>
      </div>
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#1565C0,#0D47A1);">
          <div style="font-size:2rem;margin-bottom:.3rem;">ü¶¥</div>
          <div style="color:#FFD700;font-size:.75rem;font-weight:800;letter-spacing:.06em;">PEDIGREE</div>
          <div class="brand-badge">Treats</div>
        </div>
        <div class="brand-card-body">
          <h3>Pedigree Dentastix</h3>
          <p>Dental chews ¬∑ 7 sticks pack</p>
          <div class="bprice">‚Çπ249</div>
          <button class="add-btn" onclick="addCart('Pedigree Dentastix', 249, 'ü¶¥')">Add to Cart</button>
        </div>
      </div>

      <!-- DROOLS -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#2E7D32,#1B5E20);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üåø</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.06em;">DROOLS</div>
          <div class="brand-badge">Natural</div>
        </div>
        <div class="brand-card-body">
          <h3>Drools Focus Adult</h3>
          <p>Real chicken & egg ¬∑ 3kg</p>
          <div class="bprice">‚Çπ699</div>
          <button class="add-btn" onclick="addCart('Drools Focus Adult', 899, 'üêæ')">Add to Cart</button>
        </div>
      </div>
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#2E7D32,#1B5E20);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üê∂</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.06em;">DROOLS</div>
          <div class="brand-badge">Puppy</div>
        </div>
        <div class="brand-card-body">
          <h3>Drools Puppy Super</h3>
          <p>High protein puppy formula ¬∑ 3kg</p>
          <div class="bprice">‚Çπ749</div>
          <button class="add-btn" onclick="addCart('Drools Puppy', 750, 'üêæ')">Add to Cart</button>
        </div>
      </div>

      <!-- HILL'S -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#E65100,#BF360C);">
          <div style="font-size:2rem;margin-bottom:.3rem;">‚õ∞Ô∏è</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.06em;">HILL'S SCIENCE</div>
          <div class="brand-badge">Vet Approved</div>
        </div>
        <div class="brand-card-body">
          <h3>Hill's Science Diet</h3>
          <p>Science-backed nutrition ¬∑ 2kg</p>
          <div class="bprice">‚Çπ2,199</div>
          <button class="add-btn" onclick="addCart('Himalaya Pet Shampoo', 295, 'üß¥')">Add to Cart</button>
        </div>
      </div>

      <!-- FARMINA -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#6A1B9A,#4A148C);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üåæ</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.06em;">FARMINA</div>
          <div class="brand-badge">Premium Import</div>
        </div>
        <div class="brand-card-body">
          <h3>Farmina N&D Grain Free</h3>
          <p>Grain-free lamb & blueberry ¬∑ 2.5kg</p>
          <div class="bprice">‚Çπ3,299</div>
          <button class="add-btn" onclick="addCart('Whiskas Tuna 85g', 40, 'üêü')">Add to Cart</button>
        </div>
      </div>

      <!-- ACANA -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#37474F,#1C313A);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üèîÔ∏è</div>
          <div style="color:#CFD8DC;font-size:.75rem;font-weight:800;letter-spacing:.06em;">ACANA</div>
          <div class="brand-badge">Canadian Import</div>
        </div>
        <div class="brand-card-body">
          <h3>Acana Singles Duck</h3>
          <p>Single protein, limited ingredient ¬∑ 2kg</p>
          <div class="bprice">‚Çπ2,899</div>
          <button class="add-btn" onclick="addCart('Purina Pro Plan', 2200, '‚≠ê')">Add to Cart</button>
        </div>
      </div>

      <!-- PURINA -->
      <div class="brand-card">
        <div class="brand-img" style="background:linear-gradient(135deg,#F57C00,#E65100);">
          <div style="font-size:2rem;margin-bottom:.3rem;">üåü</div>
          <div style="color:#fff;font-size:.75rem;font-weight:800;letter-spacing:.06em;">PURINA PRO PLAN</div>
          <div class="brand-badge">Pro Series</div>
        </div>
        <div class="brand-card-body">
          <h3>Purina Pro Plan Adult</h3>
          <p>High-energy sport formula ¬∑ 3kg</p>
          <div class="bprice">‚Çπ2,599</div>
          <button class="add-btn" onclick="addCart('Farmina N&D', 3200, 'üåø')">Add to Cart</button>
        </div>
      </div>

    </div>

    <div style="margin-top:2rem;margin-bottom:1rem;"><h3 style="font-size:1rem;font-weight:600;margin-bottom:.3rem;">üéæ Accessories & Health</h3></div>
    <div class="products-grid">
      <div class="product-card"><div class="product-icon">üéæ</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Chew Toy Bundle</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Rubber toys ¬∑ Set of 4</p><div style="font-size:.95rem;font-weight:700;color:var(--warm);margin-bottom:.6rem;">‚Çπ649</div><button class="add-btn" onclick="addCart()">Add to Cart</button></div>
      <div class="product-card"><div class="product-icon">üíä</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Multivitamin Drops</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Daily immunity ¬∑ 60ml</p><div style="font-size:.95rem;font-weight:700;color:var(--warm);margin-bottom:.6rem;">‚Çπ549</div><button class="add-btn" onclick="addCart()">Add to Cart</button></div>
      <div class="product-card"><div class="product-icon">üõèÔ∏è</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Cozy Pet Bed</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Orthopedic foam ¬∑ 3 sizes</p><div style="font-size:.95rem;font-weight:700;color:var(--warm);margin-bottom:.6rem;">‚Çπ1,899</div><button class="add-btn" onclick="addCart()">Add to Cart</button></div>
      <div class="product-card"><div class="product-icon">üåø</div><h3 style="font-size:.88rem;font-weight:600;margin-bottom:.2rem;">Tick & Flea Spray</h3><p style="font-size:.74rem;color:#9A8070;margin-bottom:.5rem;">Neem-based ¬∑ 200ml</p><div style="font-size:.95rem;font-weight:700;color:var(--warm);margin-bottom:.6rem;">‚Çπ449</div><button class="add-btn" onclick="addCart()">Add to Cart</button></div>
    </div>
  </div>
</div>

<!-- TRAINERS -->
<div id="trainer" class="page">
  <div class="section">
    <div class="section-title">Book a Pet Trainer üèÖ</div>
    <div class="section-sub">Certified professionals for obedience, agility & behaviour</div>
    <div class="trainers-grid">
      <div class="trainer-card"><div class="trainer-header"><div class="trainer-avatar">üë®‚Äçüè´</div><div><h3>Arjun Sharma</h3><p>CPDT-KA Certified</p><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9</div></div></div><div class="trainer-body"><div class="tag-row"><span class="tag">Obedience</span><span class="tag">Behaviour</span><span class="tag">Home Visits</span></div><div style="display:flex;justify-content:space-between;margin-bottom:.7rem;"><span style="font-weight:700;color:var(--warm);">‚Çπ800/session</span><span style="color:var(--sage);font-size:.76rem;">‚úÖ Today</span></div><button class="action-btn" onclick="openBooking('Arjun Sharma','Trainer')">Book Session</button></div></div>
      <div class="trainer-card"><div class="trainer-header" style="background:#2C3E3C;"><div class="trainer-avatar">üë©‚Äçüè´</div><div><h3>Priya Menon</h3><p>MSc Zoology</p><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div></div></div><div class="trainer-body"><div class="tag-row"><span class="tag">Puppy</span><span class="tag">Anxiety</span><span class="tag">Agility</span></div><div style="display:flex;justify-content:space-between;margin-bottom:.7rem;"><span style="font-weight:700;color:var(--warm);">‚Çπ1,000/session</span><span style="color:var(--warm);font-size:.76rem;">Tomorrow</span></div><button class="action-btn" onclick="openBooking('Priya Menon','Trainer')">Book Session</button></div></div>
      <div class="trainer-card"><div class="trainer-header" style="background:#3B2A40;"><div class="trainer-avatar">üßë‚Äçüè´</div><div><h3>Rohan Kapoor</h3><p>AKC Certified</p><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.6</div></div></div><div class="trainer-body"><div class="tag-row"><span class="tag">Agility</span><span class="tag">Sports</span><span class="tag">Group</span></div><div style="display:flex;justify-content:space-between;margin-bottom:.7rem;"><span style="font-weight:700;color:var(--warm);">‚Çπ600/session</span><span style="color:var(--sage);font-size:.76rem;">‚úÖ Today</span></div><button class="action-btn" onclick="openBooking('Rohan Kapoor','Trainer')">Book Session</button></div></div>
    </div>
  </div>
</div>

<!-- CRECHE -->
<div id="creche" class="page">
  <div class="section">
    <div class="section-title">Pet Cr√®che & Boarding üè†</div>
    <div class="section-sub">Safe, supervised care while you're away</div>
    <div class="creche-info-strip">
      <div class="strip-item"><div class="si">üõ°Ô∏è</div><h4>CCTV</h4><p>24/7 surveillance</p></div>
      <div class="strip-item"><div class="si">ü©∫</div><h4>Vet On Call</h4><p>Medical support</p></div>
      <div class="strip-item"><div class="si">üçΩÔ∏è</div><h4>Custom Meals</h4><p>Per pet's diet</p></div>
      <div class="strip-item"><div class="si">üì±</div><h4>Daily Updates</h4><p>Photos & videos</p></div>
    </div>
    <div class="creche-grid">
      <div class="card"><div class="card-img" style="background:#FFF3E0"><span>üè°</span><span class="badge">Top Rated</span></div><div class="card-body"><h3>Pawsome Haven</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9</div><div class="dist">üìç 3.2 km ¬∑ Noida</div><div class="tag-row"><span class="tag">AC Rooms</span><span class="tag">Play Yard</span><span class="tag">Live Cam</span></div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem;"><div><span style="font-size:.78rem;color:#9A8070;">From </span><span style="font-size:1rem;font-weight:700;color:var(--warm);">‚Çπ699/day</span></div><button class="action-btn sage" style="width:auto;padding:.4rem .9rem;font-size:.78rem;" onclick="openBooking('Pawsome Haven','Cr√®che')">Book</button></div></div></div>
      <div class="card"><div class="card-img" style="background:#E8F5E9"><span>üå≥</span><span class="badge">Nature Stay</span></div><div class="card-body"><h3>Green Paws Farm</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div><div class="dist">üìç 7.5 km ¬∑ Raj Nagar</div><div class="tag-row"><span class="tag">Open Farm</span><span class="tag">Dog Pool</span></div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem;"><div><span style="font-size:.78rem;color:#9A8070;">From </span><span style="font-size:1rem;font-weight:700;color:var(--warm);">‚Çπ899/day</span></div><button class="action-btn sage" style="width:auto;padding:.4rem .9rem;font-size:.78rem;" onclick="openBooking('Green Paws Farm','Cr√®che')">Book</button></div></div></div>
      <div class="card"><div class="card-img" style="background:#F3E5F5"><span>üèôÔ∏è</span><span class="badge badge-purple">City</span></div><div class="card-body"><h3>Urban Pet Club</h3><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.6</div><div class="dist">üìç 2.1 km ¬∑ Vasundhara</div><div class="tag-row"><span class="tag">Grooming</span><span class="tag">Training</span></div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem;"><div><span style="font-size:.78rem;color:#9A8070;">From </span><span style="font-size:1rem;font-weight:700;color:var(--warm);">‚Çπ549/day</span></div><button class="action-btn sage" style="width:auto;padding:.4rem .9rem;font-size:.78rem;" onclick="openBooking('Urban Pet Club','Cr√®che')">Book</button></div></div></div>
    </div>
  </div>
</div>

<!-- HELPLINE -->
<div id="helpline" class="page">
  <div class="helpline-page">
    <div class="helpline-card">
      <div style="font-size:4rem;margin-bottom:.8rem;">ü©∫</div>
      <h2 style="font-family:'Playfair Display',serif;font-size:1.7rem;margin-bottom:.4rem;">24/7 Vet Helpline</h2>
      <p style="color:#6A5A50;margin-bottom:1.5rem;line-height:1.7;font-size:.88rem;">Certified veterinarians available round the clock for emergencies, guidance & consultations.</p>
      <div class="phone-num">1800-PAW-CARE</div>
      <div class="available"><span class="green-dot"></span> Available Now ¬∑ Free for all members</div>
      <button class="btn-primary" style="width:100%;padding:.85rem;" onclick="toast('üìû Connecting to vet...')">Call Now</button>
      <div class="consult-options">
        <div class="consult-option" onclick="toast('Chat launching soon!')"><div class="icon" style="font-size:1.5rem;margin-bottom:.3rem;">üí¨</div><h4 style="font-size:.82rem;font-weight:600;">Chat Consult</h4><p style="font-size:.72rem;color:#8A7060;">Text a vet</p></div>
        <div class="consult-option" onclick="toast('Video launching soon!')"><div class="icon" style="font-size:1.5rem;margin-bottom:.3rem;">üìπ</div><h4 style="font-size:.82rem;font-weight:600;">Video Call</h4><p style="font-size:.72rem;color:#8A7060;">Face-to-face</p></div>
        <div class="consult-option" onclick="openBooking('Vet Appointment','Doctor')"><div class="icon" style="font-size:1.5rem;margin-bottom:.3rem;">üìÖ</div><h4 style="font-size:.82rem;font-weight:600;">Book Visit</h4><p style="font-size:.72rem;color:#8A7060;">Clinic appointment</p></div>
        <div class="consult-option" onclick="toast('üö® Emergency dispatch!')"><div class="icon" style="font-size:1.5rem;margin-bottom:.3rem;">üö®</div><h4 style="font-size:.82rem;font-weight:600;">Emergency</h4><p style="font-size:.72rem;color:#8A7060;">Immediate dispatch</p></div>
      </div>
    </div>
  </div>
</div>

<!-- DEMO -->
<div id="demo" class="page">
  <div class="section">
    <div class="section-title">‚ñ∂ Complete Workflow Demo</div>
    <div class="section-sub">See the full pet parent journey ‚Äî click through each step</div>
    <div class="demo-steps" id="demoStepBtns"></div>
    <div class="demo-screen" id="demoScreen"></div>
  </div>
</div>

</div><!-- /app -->

<!-- MODALS -->
<div class="modal-overlay" id="bookingModal">
  <div class="modal">
    <h3 id="modalTitle">Book</h3>
    <div class="modal-grid">
      <div class="form-group"><label>Your Name</label><input placeholder="Full name"></div>
      <div class="form-group"><label>Pet Name</label><input placeholder="Pet's name"></div>
      <div class="form-group"><label>Date</label><input type="date" id="bookDate"></div>
      <div class="form-group"><label>Pet Type</label><select><option>Dog</option><option>Cat</option><option>Rabbit</option><option>Bird</option></select></div>
      <div class="form-group full"><label>Time Slot</label>
        <div class="slot-grid">
          <div class="slot" onclick="selectSlot(this)">9 AM</div>
          <div class="slot" onclick="selectSlot(this)">10 AM</div>
          <div class="slot taken">11 AM</div>
          <div class="slot" onclick="selectSlot(this)">12 PM</div>
          <div class="slot" onclick="selectSlot(this)">2 PM</div>
          <div class="slot" onclick="selectSlot(this)">3 PM</div>
          <div class="slot taken">4 PM</div>
          <div class="slot" onclick="selectSlot(this)">5 PM</div>
        </div>
      </div>
      <div class="form-group full"><label>Reason for Visit</label><input id="bookReason" placeholder="e.g. Vaccination, Checkup, Injury..." style="width:100%;border:1.5px solid #E8DDD4;border-radius:8px;padding:.55rem .8rem;font-family:'DM Sans',sans-serif;font-size:.85rem;outline:none;color:#3D2B1F;background:#FAF7F4;"></div>
      <div class="form-group full"><label>Notes</label><textarea rows="2" placeholder="Special requirements..."></textarea></div>
    </div>
    <div class="modal-actions">
      <button class="btn-primary" onclick="confirmBooking()" style="flex:1;padding:.65rem;">‚úÖ Confirm Booking</button>
      <button class="modal-close" onclick="closeBooking()">Cancel</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>



<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DOCTOR SECTION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="doctorSection" style="display:none;min-height:100vh;">

<div id="doctorLogin">
  <div class="login-box">
    <div class="login-logo">ü©∫ VetPortal</div>
    <div class="login-sub">PawConnect Clinical Management System</div>
    <div class="secure-badge">üîí VCI Verified ¬∑ Encrypted ¬∑ Secure</div>
    <div class="login-tabs">
      <button class="login-tab active" id="dtabL" onclick="dSwitchTab('login')">Login</button>
      <button class="login-tab" id="dtabR" onclick="dSwitchTab('reg')">Register Clinic</button>
    </div>
    <div id="dlForm">
      <div class="lg"><label>Email</label><input id="dlEmail" type="email" placeholder="doctor@clinic.com"></div>
      <div class="lg"><label>Password</label><input id="dlPassword" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
      <div class="lg"><label>VCI Registration No.</label><input id="dlVci" placeholder="VCI/2024/XXXXX"></div>
      <button class="login-btn" onclick="dDoLogin()">ü©∫ Enter Veterinarian Portal</button>
      <div class="forgot" onclick="toast('üìß Password reset link sent to your email!')">Forgot password?</div>
    </div>
    <div id="drForm" style="display:none;">
      <div class="lg"><label>Full Name (Dr.)</label><input placeholder="Dr. Rajeev Arora"></div>
      <div class="lg"><label>Qualification</label><select><option>BVSc &amp; AH</option><option>MVSc</option><option>BVSc + MVSc</option><option>PhD</option></select></div>
      <div class="lg"><label>VCI Registration No.</label><input placeholder="VCI/2024/XXXXX"></div>
      <div class="lg"><label>Email</label><input type="email" placeholder="doctor@clinic.com"></div>
      <div class="lg"><label>Clinic Name</label><input placeholder="PawCare Veterinary Clinic"></div>
      <button class="login-btn" onclick="dDoRegister()">Continue Setup ‚Üí</button>
    </div>
    <div style="margin-top:1rem;text-align:center;"><button onclick="backToLanding()" style="background:none;border:none;color:#6B8BA8;font-family:'DM Sans',sans-serif;font-size:.76rem;cursor:pointer;">‚Üê Back to Home</button></div>
</div>
</div>

<div id="doctorApp">
  <div class="layout">
    <div class="sidebar">
      <div class="sb-logo">ü©∫ VetPortal<span>PawConnect Clinical</span></div>
      <div class="sb-section">Main</div>
      <button class="sb-btn active" data-dpage="dashboard" onclick="dSp('dashboard')"><span class="sb-icon">üìä</span>Dashboard</button>
      <button class="sb-btn" data-dpage="queue" onclick="dSp('queue')"><span class="sb-icon">üë•</span>Live Queue</button>
      <button class="sb-btn" data-dpage="appointments" onclick="dSp('appointments')"><span class="sb-icon">üìÖ</span>Appointments</button>
      <div class="sb-section">Records</div>
      <button class="sb-btn" data-dpage="patients" onclick="dSp('patients')"><span class="sb-icon">üêæ</span>Patients</button>
      <div class="sb-divider"></div>
      <div class="sb-section">Clinic</div>
      <button class="sb-btn" data-dpage="schedule" onclick="dSp('schedule')"><span class="sb-icon">üóìÔ∏è</span>Schedule</button>
      <button class="sb-btn" data-dpage="analytics" onclick="dSp('analytics')"><span class="sb-icon">üìà</span>Analytics</button>
      <button class="sb-btn" data-dpage="settings" onclick="dSp('settings')"><span class="sb-icon">‚öôÔ∏è</span>Clinic Setup</button>
      <div class="sb-divider"></div>
      <button class="sb-btn" onclick="backToLanding()"><span class="sb-icon">üè†</span>Back to Home</button>
      <button class="sb-btn" onclick="dDoLogout()"><span class="sb-icon">üö™</span>Logout</button>
      <div class="sb-doctor">
        <div class="sb-doc-name"><span class="online-dot"></span>Dr. Rajeev Arora</div>
        <div class="sb-doc-sub">BVSc, MVSc ¬∑ PawCare Noida</div>
      </div>
    </div>

    <div class="main">

      <!-- DASHBOARD -->
      <div id="ddashboard" class="page active">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.3rem;flex-wrap:wrap;gap:.7rem;">
          <div>
            <div class="page-title">Good morning, Dr. Arora üëã</div>
            <div class="page-sub" style="margin-bottom:0">Sunday, 22 Feb 2026 ¬∑ PawCare Clinic, Sector 62 Noida</div>
          </div>
          <div style="display:flex;gap:.5rem;">
            <button class="btn-blue" onclick="dSp('queue')">‚ñ∂ Start Queue</button>
            <button class="btn-tl" onclick="dOpenModal('Walk-in Patient')">+ Walk-in</button>
          </div>
        </div>
        <div class="stat-grid">
          <div class="stat-card"><div class="sc-num" id="ddqn">7</div><div class="sc-lbl">In Queue Today</div><div class="sc-chg up">‚ñ≤ 2 since morning</div></div>
          <div class="stat-card g"><div class="sc-num">3</div><div class="sc-lbl">Completed Today</div><div class="sc-chg up">‚úÖ On track</div></div>
          <div class="stat-card gd"><div class="sc-num">142</div><div class="sc-lbl">Total Patients</div><div class="sc-chg up">‚ñ≤ 8 this month</div></div>
          <div class="stat-card rd"><div class="sc-num">5</div><div class="sc-lbl">Reminders Due</div><div class="sc-chg dn">‚ö†Ô∏è Action needed</div></div>
        </div>
        <div class="two-col">
          <div class="card">
            <div class="card-title">üîî Vaccination Reminders</div>
            <div class="rem-item rd"><div class="rem-name">Max ¬∑ Golden Retriever</div><div class="rem-sub">Rabies due in 3 days ¬∑ Rahul Singh ¬∑ +91 98765 43210</div><button class="rem-btn bl" onclick="toast('üì≤ Reminder sent to Rahul Singh!')">Send Reminder</button></div>
            <div class="rem-item gd"><div class="rem-name">Luna ¬∑ Persian Cat</div><div class="rem-sub">Annual booster in 7 days ¬∑ Priya Kapoor ¬∑ +91 99887 65432</div><button class="rem-btn bl" onclick="toast('üì≤ Reminder sent to Priya Kapoor!')">Send Reminder</button></div>
            <div class="rem-item gr"><div class="rem-name">Bruno ¬∑ Labrador</div><div class="rem-sub">Deworming in 10 days ¬∑ Vikram Tiwari ¬∑ +91 98654 32100</div><button class="rem-btn tl" onclick="toast('üì≤ Reminder sent to Vikram Tiwari!')">Send Reminder</button></div>
            <button class="btn-blue" style="width:100%;margin-top:.7rem;font-size:.76rem;" onclick="toast('üì≤ All 5 reminders sent in bulk!')">üì≤ Send All 5 Reminders Now</button>
          </div>
          <div class="card">
            <div class="card-title">üìã Today's Appointments</div>
            <table class="apt-table">
              <thead><tr><th>Time</th><th>Pet</th><th>Owner</th><th>Reason</th><th>Status</th><th>Action</th></tr></thead>
              <tbody>
                <tr><td>9:00 AM</td><td>üêï Max</td><td>Rahul Singh</td><td>Vaccination</td><td><span class="pill done">Done</span></td><td><button class="tb" onclick="dOpenModal('Max')">Summary</button></td></tr>
                <tr><td>10:00 AM</td><td>üêà Luna</td><td>Priya K.</td><td>Check-up</td><td><span class="pill done">Done</span></td><td><button class="tb" onclick="dOpenModal('Luna')">Summary</button></td></tr>
                <tr><td>10:30 AM</td><td>üêï‚Äçü¶∫ Rocky</td><td>Amit Rao</td><td>Skin Issue</td><td><span class="pill prog">In Progress</span></td><td><button class="tb tl" onclick="dOpenModal('Rocky')">Write</button></td></tr>
                <tr><td>11:30 AM</td><td>üêï Bruno</td><td>Vikram T.</td><td>Deworming</td><td><span class="pill wait">Waiting</span></td><td><button class="tb" onclick="dSp('queue')">Queue</button></td></tr>
                <tr><td>2:00 PM</td><td>ü¶ú Kiwi</td><td>Rajan P.</td><td>Feather Check</td><td><span class="pill conf">Confirmed</span></td><td><button class="tb" onclick="dOpenModal('Kiwi')">Prepare</button></td></tr>
                <tr><td>4:30 PM</td><td>üêï Buddy</td><td>Anita R.</td><td>Post-op</td><td><span class="pill urg">Urgent üö®</span></td><td><button class="tb rd" onclick="dOpenModal('Buddy')">Priority</button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- QUEUE -->
      <div id="dqueue" class="page">
        <div class="page-title">Live Patient Queue üë•</div>
        <div class="page-sub">Real-time queue ‚Äî call next, skip, or add walk-ins on the fly</div>
        <div class="three-col">
          <div>
            <div class="card" style="margin-bottom:.9rem;">
              <div class="card-title">üü¢ Now Seeing</div>
              <div class="queue-now">
                <div class="qn-tok" id="dcurTok">#03</div>
                <div class="qn-lbl">Token Number</div>
                <div class="qn-name" id="dcurNm">Rocky</div>
                <div class="qn-sub" id="dcurPt">German Shepherd ¬∑ Amit Rao</div>
                <div style="font-size:.72rem;opacity:.75;margin-top:.3rem;" id="dcurRs">Skin Issue ¬∑ Est. 15 min</div>
              </div>
              <div class="queue-btns">
                <button class="q-next" onclick="dCallNext()">‚úÖ Complete &amp; Call Next</button>
                <button class="q-skip" onclick="toast('Patient skipped.')">Skip</button>
              </div>
              <div class="card-title">üìã Queue List</div>
              <div class="queue-list" id="dqList">
                <div style="color:#6A8FAF;font-size:.82rem;padding:1rem;text-align:center;" id="qEmptyMsg">Loading queue...</div>
              </div>
              <div class="wi-row"><input id="dwiIn" placeholder="Pet ¬∑ Owner name (walk-in)"><button onclick="dAddWalkin()">+ Add</button></div>
            </div>
          </div>
          <div>
            <div class="sf">
              <div class="card-title" id="dqSumHd">üìù Visit Summary ‚Äî Rocky (German Shepherd)</div>
              <div class="sg">
                <div class="sg-g"><label>Diagnosis</label><input placeholder="e.g. Atopic dermatitis"></div>
                <div class="sg-g"><label>Treatment</label><input placeholder="e.g. Medicated shampoo"></div>
                <div class="sg-g"><label>Medicines</label><input placeholder="e.g. Ketoconazole 2% BID √ó 2 wks"></div>
                <div class="sg-g"><label>Weight (kg)</label><input type="number" placeholder="30.5"></div>
                <div class="sg-g"><label>Temperature (¬∞F)</label><input placeholder="102.1"></div>
                <div class="sg-g"><label>Heart Rate (bpm)</label><input placeholder="88"></div>
                <div class="sg-g full"><label>Clinical Notes</label><textarea rows="3" placeholder="Detailed observations, instructions, follow-up notes‚Ä¶"></textarea></div>
                <div class="sg-g"><label>Next Visit Date</label><input type="date" id="dnvd"></div>
                <div class="sg-g"><label>Reason for Next Visit</label><select><option>Follow-up</option><option>Vaccination</option><option>Deworming</option><option>Booster</option><option>Lab Review</option><option>Post-op Check</option></select></div>
                <div class="sg-g full"><label>Lab Tests Ordered</label>
                  <div style="display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.2rem;">
                    <span class="ft on" onclick="this.classList.toggle('on')">Skin Scraping</span>
                    <span class="ft" onclick="this.classList.toggle('on')">CBC</span>
                    <span class="ft" onclick="this.classList.toggle('on')">Allergy Panel</span>
                    <span class="ft" onclick="this.classList.toggle('on')">Culture</span>
                    <span class="ft" onclick="this.classList.toggle('on')">X-Ray</span>
                    <span class="ft" onclick="this.classList.toggle('on')">Ultrasound</span>
                  </div>
                </div>
              </div>
              <div class="fa">
                <button class="fa-btn" onclick="toast('‚úÖ Summary saved! Reminder set 7 days before next visit.')">üíæ Save &amp; Schedule</button>
                <button class="fa-btn tl" onclick="toast('üì≤ Summary sent to owner via SMS!')">üì≤ Send to Owner</button>
                <button class="fa-btn ol">Clear</button>
              </div>
              <div style="font-size:.7rem;color:var(--muted);margin-top:.55rem;">Owner auto-notified 7 days before next visit</div>
            </div>
          </div>
        </div>
      </div>

      <!-- APPOINTMENTS -->
      <div id="dappointments" class="page">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.3rem;flex-wrap:wrap;gap:.7rem;">
          <div><div class="page-title">üìÖ All Appointments</div><div class="page-sub" style="margin-bottom:0">Manage upcoming, current and completed appointments</div></div>
          <button class="btn-tl" onclick="dOpenModal('New Patient')">+ New Appointment</button>
        </div>
        <div class="card" style="margin-bottom:1rem;">
          <div style="display:flex;gap:.6rem;flex-wrap:wrap;">
            <input type="date" value="2026-02-22" style="background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.44rem .7rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;">
            <select style="background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.44rem .7rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;"><option style="background:var(--mid)">All Status</option><option style="background:var(--mid)">Done</option><option style="background:var(--mid)">In Progress</option><option style="background:var(--mid)">Waiting</option><option style="background:var(--mid)">Urgent</option></select>
            <button class="btn-blue" onclick="toast('Filtered!')">Filter</button>
          </div>
        </div>
        <div class="card">
          <table class="apt-table">
            <thead><tr><th>#</th><th>Time</th><th>Pet</th><th>Breed</th><th>Owner</th><th>Contact</th><th>Reason</th><th>Status</th><th>Actions</th></tr></thead>
            <tbody>
              <tr><td>#001</td><td>9:00 AM</td><td>üêï Max</td><td>Golden Retriever</td><td>Rahul Singh</td><td>+91 98765 43210</td><td>Vaccination</td><td><span class="pill done">Done</span></td><td><button class="tb" onclick="dOpenModal('Max')">Summary</button><button class="tb tl" onclick="toast('üì≤ Reminder sent to Rahul!')">Remind</button></td></tr>
              <tr><td>#002</td><td>10:00 AM</td><td>üêà Luna</td><td>Persian Cat</td><td>Priya Kapoor</td><td>+91 99887 65432</td><td>Check-up</td><td><span class="pill done">Done</span></td><td><button class="tb" onclick="dOpenModal('Luna')">Summary</button></td></tr>
              <tr><td>#003</td><td>10:30 AM</td><td>üêï‚Äçü¶∫ Rocky</td><td>German Shepherd</td><td>Amit Rao</td><td>+91 97654 32109</td><td>Skin Issue</td><td><span class="pill prog">In Progress</span></td><td><button class="tb tl" onclick="dSp('queue')">Go to Queue</button></td></tr>
              <tr><td>#004</td><td>11:30 AM</td><td>üêï Bruno</td><td>Labrador</td><td>Vikram Tiwari</td><td>+91 98654 32100</td><td>Deworming</td><td><span class="pill wait">Waiting</span></td><td><button class="tb" onclick="dSp('queue')">Call</button></td></tr>
              <tr><td>#005</td><td>2:00 PM</td><td>ü¶ú Kiwi</td><td>African Grey</td><td>Rajan Pillai</td><td>+91 96543 21098</td><td>Feather Check</td><td><span class="pill conf">Confirmed</span></td><td><button class="tb" onclick="dOpenModal('Kiwi')">Prepare</button></td></tr>
              <tr><td>#006</td><td>4:30 PM</td><td>üêï Buddy</td><td>Poodle Mix</td><td>Anita Rajan</td><td>+91 95432 10987</td><td>Post-op</td><td><span class="pill urg">Urgent üö®</span></td><td><button class="tb rd" onclick="dOpenModal('Buddy')">Priority</button></td></tr>
              <tr><td>#007</td><td>25 Feb</td><td>üêà Whiskers</td><td>Siamese</td><td>Meena Joshi</td><td>+91 94321 09876</td><td>Annual Booster</td><td><span class="pill conf">Confirmed</span></td><td><button class="tb" onclick="dOpenModal('Whiskers')">Prepare</button><button class="tb gd" onclick="toast('üì≤ Reminder sent to Meena!')">Remind</button></td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- PATIENTS -->
      <div id="dpatients" class="page">
        <div class="page-title">üêæ Patient Records</div>
        <div class="page-sub">Complete clinical history for all registered patients</div>
        <div class="sb-row" style="margin-bottom:1rem;">
          <input type="text" placeholder="üîç Search by pet name, breed or owner‚Ä¶" oninput="dFilterPt(this.value)">
          <select><option>All Types</option><option>Dogs</option><option>Cats</option><option>Birds</option><option>Rabbits</option></select>
        </div>
        <div class="pt-grid" id="dptGrid">
          <div class="pt-card sel" onclick="dSelPt(this,'Max')"><div class="pc-head"><div class="pc-av">üêï</div><div><h4>Max<span class="vc-b">12</span></h4><p>Golden Retriever ¬∑ 3 yrs</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag g">‚úÖ KCI</span><span class="ptag">Rahul Singh</span><span class="ptag">22 Feb 2026</span></div></div>
          <div class="pt-card" onclick="dSelPt(this,'Luna')"><div class="pc-head"><div class="pc-av">üêà</div><div><h4>Luna<span class="vc-b">8</span></h4><p>Persian Cat ¬∑ 2 yrs</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag">Priya Kapoor</span><span class="ptag">22 Feb 2026</span></div></div>
          <div class="pt-card" onclick="dSelPt(this,'Rocky')"><div class="pc-head"><div class="pc-av">üêï‚Äçü¶∫</div><div><h4>Rocky<span class="vc-b">15</span></h4><p>German Shepherd ¬∑ 4 yrs</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag r">üî¥ Skin Issue</span><span class="ptag">Amit Rao</span></div></div>
          <div class="pt-card" onclick="dSelPt(this,'Bruno')"><div class="pc-head"><div class="pc-av">üêï</div><div><h4>Bruno<span class="vc-b">6</span></h4><p>Labrador ¬∑ 2 yrs</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag">Vikram Tiwari</span><span class="ptag">10 Jan 2026</span></div></div>
          <div class="pt-card" onclick="dSelPt(this,'Kiwi')"><div class="pc-head"><div class="pc-av">ü¶ú</div><div><h4>Kiwi<span class="vc-b">3</span></h4><p>African Grey ¬∑ 5 yrs</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag">Rajan Pillai</span><span class="ptag">15 Jan 2026</span></div></div>
          <div class="pt-card" onclick="dSelPt(this,'Coco')"><div class="pc-head"><div class="pc-av">üêá</div><div><h4>Coco<span class="vc-b">4</span></h4><p>Holland Lop ¬∑ 1 yr</p></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="ptag">Sneha Mehta</span><span class="ptag">5 Feb 2026</span></div></div>
        </div>
        <div class="pt-detail" id="dptDetail">
          <div class="pd-head"><div class="pd-av">üêï</div><div><h3>Max <span class="vc-b">12 visits</span></h3><p>Golden Retriever ¬∑ ‚ôÇ Male ¬∑ 3 yrs ¬∑ Chip: 982000123456789</p></div></div>
          <div class="ig">
            <div class="ib"><h5>Pet Details</h5><p>Breed: <strong>Golden Retriever</strong><br>Age: <strong>3 years</strong><br>Gender: <strong>Male</strong><br>Weight: <strong>28.5 kg</strong><br>Chip: <strong>982000123456789</strong></p></div>
            <div class="ib"><h5>Owner Details</h5><p>Name: <strong>Rahul Singh</strong><br>Mobile: <strong>+91 98765 43210</strong><br>Email: <strong><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3b1a2abb6af83a4aea2aaafeda0acae">[email&#160;protected]</a></strong><br>Location: <strong>Noida Sec-50</strong></p></div>
          </div>
          <div class="card-title">üìã Visit History</div>
          <div class="hist">
            <div class="hi vc"><div class="hi-dt">22 Feb 2026 ¬∑ Dr. Arora</div><div class="hi-tt">üíâ Rabies Vaccination + Ear Cleaning</div><div class="hi-bd">Ear wax buildup. Cleaned with CerumeneX. Rabies vaccine (BoostRab) given. Ear drops √ó 5 days. Wt: 28.5 kg ¬∑ Temp: 101.8¬∞F.</div></div>
            <div class="hi"><div class="hi-dt">15 Jan 2026 ¬∑ Dr. Arora</div><div class="hi-tt">ü©∫ Annual General Check-up</div><div class="hi-bd">All vitals normal. BCS 5/9. Mild overweight ‚Äî reduce treats 20%. Bravecto administered.</div></div>
            <div class="hi sx"><div class="hi-dt">10 Aug 2025 ¬∑ Dr. Arora</div><div class="hi-tt">üî¨ Lipoma Biopsy (Benign)</div><div class="hi-bd">Left flank lipoma ‚Äî biopsy confirmed benign. Sutured. Amoxyclav 500mg √ó 7 days. Healed on follow-up.</div></div>
            <div class="hi vc"><div class="hi-dt">22 Feb 2025 ¬∑ Dr. Arora</div><div class="hi-tt">üíâ Annual Vaccination Bundle</div><div class="hi-bd">7-in-1 (Nobivac), Rabies (Defensor), Leptospirosis. Drontal Plus. No adverse reactions.</div></div>
            <div class="hi"><div class="hi-dt">5 Oct 2024 ¬∑ Dr. Arora</div><div class="hi-tt">ü§í Gastroenteritis Episode</div><div class="hi-bd">Vomiting √ó2, loose stools. CBC: mild leukocytosis. IV fluids, Metronidazole BID √ó 5 days. Full recovery.</div></div>
          </div>
          <div class="nxt-box"><strong>üìÖ Next: Annual Booster ‚Äî 22 Feb 2027</strong><p>Auto-reminder to Rahul Singh on 15 Feb 2027</p></div>
        </div>
      </div>

      <!-- SCHEDULE -->
      <div id="dschedule" class="page">
        <div class="page-title">üóìÔ∏è My Schedule</div>
        <div class="page-sub">Manage your daily appointment slots and availability</div>
        <div class="two-col">
          <div class="card">
            <div class="card-title">üìÖ Today's Slots ‚Äî 22 Feb 2026</div>
            <div class="slot-g">
              <div class="slot dn">9:00 AM ‚úì</div><div class="slot dn">10:00 AM ‚úì</div><div class="slot bk">10:30 AM</div>
              <div class="slot bk">11:30 AM</div><div class="slot op" onclick="toast('12 PM slot opened!')">12:00 PM</div><div class="slot bl">1:00 PM üîí</div>
              <div class="slot bk">2:00 PM</div><div class="slot op" onclick="toast('3 PM slot opened!')">3:00 PM</div><div class="slot bk">4:30 PM</div>
              <div class="slot op" onclick="toast('5 PM slot opened!')">5:00 PM</div>
            </div>
            <div style="display:flex;gap:.4rem;flex-wrap:wrap;font-size:.65rem;margin-top:.5rem;">
              <span style="background:rgba(76,175,128,.1);color:var(--green);padding:.1rem .42rem;border-radius:4px;">‚ñ† Done</span>
              <span style="background:rgba(74,144,217,.1);color:var(--blue);padding:.1rem .42rem;border-radius:4px;">‚ñ† Booked</span>
              <span style="background:rgba(76,175,128,.1);color:var(--green);padding:.1rem .42rem;border-radius:4px;">‚ñ† Open</span>
              <span style="background:rgba(255,255,255,.04);color:var(--muted);padding:.1rem .42rem;border-radius:4px;">‚ñ† Blocked</span>
            </div>
          </div>
          <div class="card">
            <div class="card-title">‚öôÔ∏è Availability Settings</div>
            <div style="display:flex;flex-direction:column;gap:.75rem;">
              <div class="sg-g"><label>Working Hours</label><div style="display:flex;gap:.5rem;align-items:center;"><input type="time" value="09:00" style="flex:1;background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.48rem .7rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;"><span style="font-size:.78rem;color:var(--muted);">to</span><input type="time" value="18:00" style="flex:1;background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.48rem .7rem;font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--text);outline:none;"></div></div>
              <div class="sg-g"><label>Slot Duration</label><select style="background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.5rem .7rem;font-family:'DM Sans',sans-serif;font-size:.82rem;color:var(--text);outline:none;"><option style="background:var(--mid)">15 min</option><option style="background:var(--mid)" selected>30 min</option><option style="background:var(--mid)">45 min</option><option style="background:var(--mid)">1 hour</option></select></div>
              <div class="sg-g"><label>Max Patients / Day</label><input type="number" value="20" style="background:rgba(255,255,255,.05);border:1.5px solid var(--border);border-radius:8px;padding:.5rem .7rem;font-family:'DM Sans',sans-serif;font-size:.82rem;color:var(--text);outline:none;"></div>
              <div class="sg-g"><label>Working Days</label>
                <div class="day-g">
                  <div class="day-b on" onclick="this.classList.toggle('on')">Mon</div>
                  <div class="day-b on" onclick="this.classList.toggle('on')">Tue</div>
                  <div class="day-b on" onclick="this.classList.toggle('on')">Wed</div>
                  <div class="day-b on" onclick="this.classList.toggle('on')">Thu</div>
                  <div class="day-b on" onclick="this.classList.toggle('on')">Fri</div>
                  <div class="day-b on" onclick="this.classList.toggle('on')">Sat</div>
                  <div class="day-b" onclick="this.classList.toggle('on')">Sun</div>
                </div>
              </div>
              <button class="btn-blue" onclick="toast('‚úÖ Schedule settings saved!')">Save Settings</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ANALYTICS -->
      <div id="danalytics" class="page">
        <div class="page-title">üìà Clinic Analytics</div>
        <div class="page-sub">Performance insights and patient trends</div>
        <div class="stat-grid">
          <div class="stat-card"><div class="sc-num">142</div><div class="sc-lbl">Total Patients</div><div class="sc-chg up">‚ñ≤ 18% vs last month</div></div>
          <div class="stat-card g"><div class="sc-num">89</div><div class="sc-lbl">This Month</div><div class="sc-chg up">‚ñ≤ 12 above avg</div></div>
          <div class="stat-card gd"><div class="sc-num">‚Çπ1.8L</div><div class="sc-lbl">Revenue (Month)</div><div class="sc-chg up">‚ñ≤ 22% growth</div></div>
          <div class="stat-card tl"><div class="sc-num">4.9‚òÖ</div><div class="sc-lbl">Avg Rating</div><div class="sc-chg up">312 reviews</div></div>
        </div>
        <div class="an-grid">
          <div class="an-card"><h4>Appointments by Day</h4><div class="bc">
            <div class="br"><span class="bl">Monday</span><div class="bt"><div class="bf" style="width:90%;background:var(--blue);"></div></div><span class="bv">18</span></div>
            <div class="br"><span class="bl">Tuesday</span><div class="bt"><div class="bf" style="width:75%;background:var(--blue);"></div></div><span class="bv">15</span></div>
            <div class="br"><span class="bl">Wednesday</span><div class="bt"><div class="bf" style="width:100%;background:var(--blue);"></div></div><span class="bv">20</span></div>
            <div class="br"><span class="bl">Thursday</span><div class="bt"><div class="bf" style="width:65%;background:var(--blue);"></div></div><span class="bv">13</span></div>
            <div class="br"><span class="bl">Friday</span><div class="bt"><div class="bf" style="width:85%;background:var(--blue);"></div></div><span class="bv">17</span></div>
            <div class="br"><span class="bl">Saturday</span><div class="bt"><div class="bf" style="width:95%;background:var(--gold);"></div></div><span class="bv">19</span></div>
          </div></div>
          <div class="an-card"><h4>Visit Reasons</h4><div class="dn-wrap">
            <div class="dn"><div class="dn-hole">142</div></div>
            <div class="leg">
              <div class="li"><div class="ld" style="background:var(--blue);"></div>Vaccination (45%)</div>
              <div class="li"><div class="ld" style="background:var(--green);"></div>Check-up (25%)</div>
              <div class="li"><div class="ld" style="background:var(--gold);"></div>Illness (15%)</div>
              <div class="li"><div class="ld" style="background:var(--red);"></div>Surgery (15%)</div>
            </div>
          </div></div>
          <div class="an-card"><h4>Top Pet Types</h4><div class="bc">
            <div class="br"><span class="bl">Dogs</span><div class="bt"><div class="bf" style="width:75%;background:var(--teal);"></div></div><span class="bv">106</span></div>
            <div class="br"><span class="bl">Cats</span><div class="bt"><div class="bf" style="width:25%;background:var(--teal);"></div></div><span class="bv">25</span></div>
            <div class="br"><span class="bl">Rabbits</span><div class="bt"><div class="bf" style="width:8%;background:var(--teal);"></div></div><span class="bv">8</span></div>
            <div class="br"><span class="bl">Birds</span><div class="bt"><div class="bf" style="width:3%;background:var(--gold);"></div></div><span class="bv">3</span></div>
          </div></div>
          <div class="an-card"><h4>Revenue Trend (‚Çπ Lakhs)</h4><div class="bc">
            <div class="br"><span class="bl">Oct 2025</span><div class="bt"><div class="bf" style="width:60%;background:var(--green);"></div></div><span class="bv">1.2L</span></div>
            <div class="br"><span class="bl">Nov 2025</span><div class="bt"><div class="bf" style="width:65%;background:var(--green);"></div></div><span class="bv">1.3L</span></div>
            <div class="br"><span class="bl">Dec 2025</span><div class="bt"><div class="bf" style="width:70%;background:var(--green);"></div></div><span class="bv">1.4L</span></div>
            <div class="br"><span class="bl">Jan 2026</span><div class="bt"><div class="bf" style="width:75%;background:var(--green);"></div></div><span class="bv">1.5L</span></div>
            <div class="br"><span class="bl">Feb 2026</span><div class="bt"><div class="bf" style="width:90%;background:var(--gold);"></div></div><span class="bv">1.8L</span></div>
          </div></div>
        </div>
      </div>

      <!-- SETTINGS -->
      <div id="dsettings" class="page">
        <div class="page-title">‚öôÔ∏è Clinic Setup</div>
        <div class="page-sub">Complete your profile to appear on PawConnect for pet parents</div>
        <div class="steps-tr">
          <div class="st-item"><div class="st-c dn">‚úì</div><div class="st-l">Vet Info</div></div>
          <div class="st-item"><div class="st-c dn">‚úì</div><div class="st-l">Certs</div></div>
          <div class="st-item"><div class="st-c ac">3</div><div class="st-l">Clinic Details</div></div>
          <div class="st-item"><div class="st-c">4</div><div class="st-l">Facilities</div></div>
          <div class="st-item"><div class="st-c">5</div><div class="st-l">Photos</div></div>
          <div class="st-item"><div class="st-c">6</div><div class="st-l">Go Live</div></div>
        </div>
        <div class="set-form">
          <h3>üè• Clinic Details &amp; Authentication</h3>
          <div class="rg">
            <div class="rf"><label>Clinic Name</label><input value="PawCare Veterinary Clinic"></div>
            <div class="rf"><label>Type</label><select><option>Private Practice</option><option>Specialist Hospital</option><option>Multi-Vet Clinic</option></select></div>
            <div class="rf full"><label>Full Address</label><input value="Plot 45, Sector 62, Noida, UP ‚Äì 201309"></div>
            <div class="rf"><label>City</label><input value="Noida"></div>
            <div class="rf"><label>Pincode</label><input value="201309"></div>
            <div class="rf"><label>Clinic Phone</label><input value="+91 120 4567890"></div>
            <div class="rf"><label>Emergency No.</label><input value="+91 98765 43210"></div>
            <div class="rf full"><label>Certifications</label>
              <div class="ct-row">
                <div class="ct on">‚úÖ VCI Registered</div><div class="ct on">‚úÖ IAAP Member</div>
                <div class="ct on">‚úÖ GST Registered</div><div class="ct on">‚úÖ Emergency 24/7</div>
                <div class="ct" onclick="this.classList.toggle('on')">SPCA Approved</div>
                <div class="ct" onclick="this.classList.toggle('on')">NABH Accredited</div>
              </div>
            </div>
            <div class="rf full"><label>Specialisations</label>
              <div class="ft-row">
                <div class="ft on" onclick="this.classList.toggle('on')">Small Animals</div>
                <div class="ft on" onclick="this.classList.toggle('on')">Surgery</div>
                <div class="ft on" onclick="this.classList.toggle('on')">Vaccination</div>
                <div class="ft on" onclick="this.classList.toggle('on')">X-Ray</div>
                <div class="ft on" onclick="this.classList.toggle('on')">Orthopedics</div>
                <div class="ft" onclick="this.classList.toggle('on')">Exotic Pets</div>
                <div class="ft" onclick="this.classList.toggle('on')">Dermatology</div>
                <div class="ft" onclick="this.classList.toggle('on')">Ultrasound</div>
              </div>
            </div>
            <div class="rf full"><label>Facilities</label>
              <div class="ft-row">
                <div class="ft on" onclick="this.classList.toggle('on')">OT</div>
                <div class="ft on" onclick="this.classList.toggle('on')">In-house Lab</div>
                <div class="ft on" onclick="this.classList.toggle('on')">ICU</div>
                <div class="ft on" onclick="this.classList.toggle('on')">Mating Zone</div>
                <div class="ft on" onclick="this.classList.toggle('on')">AC Waiting</div>
                <div class="ft on" onclick="this.classList.toggle('on')">24/7 Emergency</div>
                <div class="ft" onclick="this.classList.toggle('on')">Pharmacy</div>
                <div class="ft" onclick="this.classList.toggle('on')">Parking</div>
              </div>
            </div>
            <div class="rf full"><label>Clinic Photos</label>
              <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;">
                <div class="up-box" onclick="toast('Reception uploaded!')">üì∑ Reception</div>
                <div class="up-box" onclick="toast('Exam room uploaded!')">üì∑ Exam Room</div>
                <div class="up-box" onclick="toast('OT uploaded!')">üì∑ OT</div>
                <div class="up-box" onclick="toast('Lab uploaded!')">üì∑ Lab</div>
                <div class="up-box" onclick="toast('Mating zone uploaded!')">üì∑ Mating Zone</div>
                <div class="up-box" onclick="toast('Waiting area uploaded!')">üì∑ Waiting Area</div>
              </div>
            </div>
            <div class="rf"><label>VCI Certificate</label><div class="up-box" onclick="toast('VCI cert uploaded!')">üìÑ Upload</div></div>
            <div class="rf"><label>Degree Certificate</label><div class="up-box" onclick="toast('Degree uploaded!')">üìÑ Upload</div></div>
            <div class="rf full"><label>About Your Clinic</label><textarea rows="3">PawCare Veterinary Clinic has been serving pet parents in Noida since 2012. We offer complete small animal healthcare with digital X-ray, in-house lab, and a dedicated surgical suite.</textarea></div>
          </div>
          <div class="sb-row" style="margin-top:1rem;">
            <button class="fa-btn" onclick="toast('‚úÖ Clinic profile saved and published on PawConnect!')">üíæ Save &amp; Publish</button>
            <button class="fa-btn ol" onclick="toast('Draft saved!')">Save Draft</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- VISIT SUMMARY MODAL -->
<div class="modal-ov" id="dSumModal">
  <div class="modal">
    <h3 id="dSumModalTitle">üìù Write Visit Summary</h3>
    <div class="sg">
      <div class="sg-g"><label>Diagnosis</label><input placeholder="e.g. Skin allergy"></div>
      <div class="sg-g"><label>Treatment</label><input placeholder="e.g. Antifungal shampoo"></div>
      <div class="sg-g"><label>Medicines</label><input placeholder="e.g. Ketoconazole 2% BID"></div>
      <div class="sg-g"><label>Weight (kg)</label><input type="number" placeholder="28.5"></div>
      <div class="sg-g"><label>Temperature (¬∞F)</label><input placeholder="101.8"></div>
      <div class="sg-g"><label>Heart Rate</label><input placeholder="88 bpm"></div>
      <div class="sg-g full"><label>Clinical Notes</label><textarea rows="2" placeholder="Detailed observations and instructions‚Ä¶"></textarea></div>
      <div class="sg-g"><label>Next Visit</label><input type="date" id="dmnd"></div>
      <div class="sg-g"><label>Reason</label><select><option>Follow-up</option><option>Vaccination</option><option>Deworming</option><option>Booster</option><option>Post-op</option><option>Lab Review</option></select></div>
    </div>
    <div class="m-actions">
      <button class="fa-btn" style="flex:1;" onclick="dSaveModal()">üíæ Save &amp; Schedule</button>
      <button class="fa-btn tl" onclick="toast('üì≤ Summary sent to owner!')">üì≤ Send</button>
      <button class="fa-btn ol" onclick="dCloseModal()">Close</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

</div><!-- /doctorSection -->


<script>
/* sb already defined above */
console.log('‚úÖ Supabase sb ready:', typeof sb);
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PET PARENT JS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
// ‚îÄ‚îÄ ROUTING ‚îÄ‚îÄ
function enterAs(role){
  if(window.currentUser){
    document.getElementById('landing').style.display='none';
    document.getElementById('app').style.display='block';
    showPage('home');
    return;
  }
  document.getElementById('landing').style.display='none';
  document.getElementById('app').style.display='block';
  showPage('verify');
}
// ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  const pages=['home','verify','profile','vets','cab','connect','marketplace','grooming','lab','pantry','trainer','creche','demo','helpline'];
  const idx=pages.indexOf(id);
  const btns=document.querySelectorAll('.nav-btn');
  if(idx>=0&&idx<btns.length)btns[idx].classList.add('active');
  window.scrollTo(0,0);
  // Show cart FAB on shopping pages
  var fab=document.getElementById('cartFab');
  if(fab){
    var shopPages=['pantry','marketplace','grooming','lab','trainer','creche'];
    if(shopPages.includes(id)||cartItems.length>0) fab.classList.add('visible');
    else if(cartItems.length===0) fab.classList.remove('visible');
  }
}

// ‚îÄ‚îÄ BREEDS ‚îÄ‚îÄ
const breeds={Dog:['Golden Retriever','Labrador','G. Shepherd','Poodle','Beagle','Shih Tzu','Pomeranian'],Cat:['Persian','Siamese','Maine Coon','Bengal'],Rabbit:['Holland Lop','Mini Rex','Dutch'],Bird:['African Grey','Cockatiel','Macaw']};
function updateBreeds(){const t=document.getElementById('petType').value,s=document.getElementById('breedSelect');s.innerHTML=t?breeds[t].map(b=>`<option>${b}</option>`).join(''):'<option>Select type first</option>';}
function selectGender(el){document.querySelectorAll('.gbtn').forEach(b=>{b.style.borderColor='#E8DDD4';b.style.background='var(--cream)';});el.style.borderColor='var(--warm)';el.style.background='#FBF0E4';}
function toggleCert(el){el.classList.toggle('sel');}
function filterChip(el){el.closest('.filter-bar').querySelectorAll('.filter-chip').forEach(c=>c.classList.remove('active'));el.classList.add('active');}

// ‚îÄ‚îÄ CART ‚îÄ‚îÄ
// addCart() called by pantry/grooming buttons ‚Äî adds a real item to cart
// The button can pass name and price directly via data attributes or just use defaults
function addCart(name, price, icon) {
  name = name || 'Pet Product';
  price = price || 499;
  icon = icon || 'üêæ';
  // addToCart is defined below in payment section
  if (typeof addToCart === 'function') {
    addToCart(name, price, icon, 'PawConnect Store');
  } else {
    toast('üõí Added to cart!');
  }
}

// ‚îÄ‚îÄ OTP ‚îÄ‚îÄ
function sendOTP(){
  var phone = document.getElementById('phoneInput').value.trim();
  if(!phone || phone.length < 10){ toast('Enter a valid 10-digit number'); return; }
  var digits = phone.replace(/[^0-9]/g,'').slice(-10);
  var formatted = '+91' + digits;
  window._pendingPhone = formatted;
  toast('Sending OTP...');
  window.sb.auth.signInWithOtp({ phone: formatted }).then(function(res){
    if(res.error){ toast('Error: ' + res.error.message); return; }
    document.getElementById('otpSection').style.display='block';
    toast('OTP sent to ' + formatted);
  });
}
function otpNext(el,idx){if(el.value.length===1&&idx<5)document.getElementById('o'+(idx+1)).focus();const full=[0,1,2,3,4,5].map(i=>document.getElementById('o'+i).value).join('');if(full.length===6)verifyOTP();}
function verifyOTP(){
  var otp = '';
  for(var x=0; x<6; x++){
    var el = document.getElementById('o'+x);
    if(el) otp += el.value;
  }
  if(otp.length < 6){ toast('Enter all 6 digits'); return; }
  toast('Verifying...');
  window.sb.auth.verifyOtp({ phone: window._pendingPhone, token: otp, type: 'sms' }).then(function(res){
    if(res.error){ toast('Wrong OTP. Try again.'); return; }
    var user = res.data.user;
    window.currentUser = user;

    // First check if user already exists in users table
    window.sb.from('users').select('id').eq('id', user.id).then(function(check){
      if(!check.data || check.data.length === 0){
        // Insert user first, then proceed
        window.sb.from('users').insert({
          id: user.id,
          phone: window._pendingPhone
        }).then(function(ins){
          if(ins.error){ console.log('User insert error:', ins.error); }
          toast('Welcome to PawConnect!');
          showPage('home');
          loadPet();
        });
      } else {
        // User exists already
        toast('Welcome back to PawConnect!');
        showPage('home');
        loadPet();
      }
    });
  });
}

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ
let bookTarget='';
function openBooking(name, type, vetId){
  bookTarget = name;
  window._selectedVetId = vetId || null;
  var icons = {'Vet Appointment':'ü©∫','Trainer':'üìÖ','Grooming':'‚úÇÔ∏è','Home Grooming':'üè†','Cr√®che':'üè†','Lab Test':'üî¨','Doctor':'ü©∫','Mating':'üíû','Cab':'üöó','Lab':'üî¨'};
  document.getElementById('modalTitle').textContent = (icons[type]||'üìÖ') + ' Book ¬∑ ' + name;
  var today = new Date().toISOString().split('T')[0];
  document.getElementById('bookDate').min   = today;
  document.getElementById('bookDate').value = today;
  document.getElementById('bookingModal').classList.add('open');
}
function closeBooking(){document.getElementById('bookingModal').classList.remove('open');}
function selectSlot(el){el.closest('.slot-grid').querySelectorAll('.slot').forEach(s=>s.classList.remove('sel'));if(!el.classList.contains('taken'))el.classList.add('sel');}
function confirmBooking(){
  if(!window.currentUser){ toast('Please login first'); return; }

  var date   = document.getElementById('bookDate').value;
  var reason = document.getElementById('bookReason') ? document.getElementById('bookReason').value : 'General Checkup';
  var slot   = document.querySelector('.slot.sel');
  var time   = slot ? slot.textContent.trim() : '10 AM';
  var vetId  = window._selectedVetId || null;

  if(!date){ toast('Please select a date'); return; }

  toast('Booking...');

  var booking = {
    user_id:          window.currentUser.id,
    pet_id:           window.currentPet ? window.currentPet.id : null,
    vet_id:           vetId,
    owner_name:       window.currentUser.phone || '',
    pet_name:         window.currentPet ? window.currentPet.name : 'My Pet',
    pet_type:         window.currentPet ? window.currentPet.type : '',
    appointment_date: date,
    time_slot:        time,
    reason:           reason || 'General Checkup',
    status:           'confirmed',
    fee:              400
  };

  window.sb.from('appointments').insert(booking).then(function(res){
    if(res.error){ toast('Error: ' + res.error.message); return; }
    var appt = Array.isArray(res.data) ? res.data[0] : res.data;

    // Add to vet queue
    if(vetId){
      window.sb.from('vet_queue').insert({
        vet_id:         vetId,
        appointment_id: appt ? appt.id : null,
        pet_name:       booking.pet_name,
        owner_name:     booking.owner_name,
        pet_type:       booking.pet_type,
        reason:         booking.reason,
        token_number:   Math.floor(Math.random()*90)+10,
        status:         'waiting',
        queue_date:     date
      }).then(function(){});
    }

    closeBooking();
    openPayModal('vet', 400, 'Vet Consultation ¬∑ ' + bookTarget);
    toast('üéâ Appointment booked with ' + bookTarget + '!');
  });
}
document.getElementById('bookingModal').addEventListener('click',function(e){if(e.target===this)closeBooking();});

// ‚îÄ‚îÄ CAB TYPE ‚îÄ‚îÄ
function selCabType(id){document.querySelectorAll('.cab-type').forEach(c=>c.classList.remove('sel'));document.getElementById(id).classList.add('sel');}

// ‚îÄ‚îÄ MARKETPLACE ‚îÄ‚îÄ
function mktTab(el,id){['listings','sell'].forEach(i=>{const d=document.getElementById(i);if(d)d.style.display='none';});document.getElementById(id).style.display='block';document.querySelectorAll('.market-tab').forEach(t=>t.classList.remove('active'));el.classList.add('active');}

// ‚îÄ‚îÄ MATING ‚îÄ‚îÄ
function selectMateOpt(selId,othId){document.getElementById(selId).classList.add('sel');document.getElementById(othId).classList.remove('sel');document.getElementById('matingZones').style.display=selId==='mateOpt1'?'block':'none';document.getElementById('homeVenueForm').style.display=selId==='mateOpt2'?'block':'none';}

// ‚îÄ‚îÄ GROOMING ‚îÄ‚îÄ
function selectGroomOpt(s,o,sh,hd){document.getElementById(s).classList.add('sel');document.getElementById(o).classList.remove('sel');document.getElementById(sh).style.display='block';document.getElementById(hd).style.display='none';}

// ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ
let toastTimer;
function toast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');clearTimeout(toastTimer);toastTimer=setTimeout(()=>t.classList.remove('show'),2800);}

// ‚îÄ‚îÄ DEMO ‚îÄ‚îÄ
const demoSteps=[
  {title:'1. Landing ‚Äì Choose Role',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;align-items:center;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">User Visits PawConnect</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.9rem;">Rahul Singh visits PawConnect.in. The landing screen immediately asks: <strong>Are you a Pet Parent or a Veterinarian?</strong></p><div style="background:var(--soft);border-radius:12px;padding:1rem;font-size:.82rem;color:#6A5A50;line-height:1.8;"><strong style="display:block;margin-bottom:.4rem;">This bifurcation ensures:</strong>‚Ä¢ Pet parents get the consumer app<br>‚Ä¢ Doctors get a secure, separate portal<br>‚Ä¢ No mixing of interfaces</div></div><div style="display:grid;gap:.8rem;"><div style="background:var(--brown);border-radius:14px;padding:1.2rem;text-align:center;cursor:pointer;" onclick="showPage('verify')"><div style="font-size:2.5rem;margin-bottom:.4rem;">üêï</div><div style="color:var(--cream);font-weight:600;font-size:.9rem;">Pet Parent App</div></div><div style="background:var(--blue);border-radius:14px;padding:1.2rem;text-align:center;cursor:pointer;" onclick="openVetPortal()"><div style="font-size:2.5rem;margin-bottom:.4rem;">üë®‚Äç‚öïÔ∏è</div><div style="color:#fff;font-weight:600;font-size:.9rem;">Veterinarian Portal (Separate)</div></div></div></div>`},
  {title:'2. OTP Verification',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üì≤ Rahul Verifies His Account</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Enters +91 98765 43210 ‚Üí OTP sent instantly ‚Üí enters 6-digit code ‚Üí ‚úÖ Verified!</p><div style="background:var(--soft);border-radius:12px;padding:1rem;font-size:.82rem;margin-bottom:.8rem;"><strong>Unlocks after verification:</strong><br>üè™ Marketplace ¬∑ üíû Breeding ¬∑ ü©∫ Vet booking ¬∑ üî¨ Lab tests</div><button class="btn-primary" onclick="showPage('verify')">Try It Live ‚Üí</button></div><div class="demo-phone"><h4>SMS from PawConnect</h4><div class="demo-msg"><strong>üîê Your OTP</strong>Code: <strong style="color:var(--warm);font-size:1.3rem;">123456</strong> ¬∑ Valid 10 min</div><div class="demo-msg"><strong>‚úÖ Verified!</strong>Welcome Rahul! Your PawConnect account is now active üêæ</div></div></div>`},
  {title:'3. Create Pet Profile',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üêï Rahul Adds Max</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Fills in Max's breed (Golden Retriever), age, certifications (KCI, Vaccinated), and uploads a photo.</p><div style="background:var(--white);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;margin-bottom:.8rem;"><div style="display:flex;align-items:center;gap:.7rem;margin-bottom:.6rem;"><span style="font-size:2rem;">üêï</span><div><strong>Max</strong><br><span style="font-size:.76rem;color:#9A8070;">Golden Retriever ¬∑ 3 yrs ¬∑ ‚ôÇ</span></div></div><div style="display:flex;gap:.3rem;flex-wrap:wrap;"><span class="tag">‚úÖ KCI</span><span class="tag">üíâ Vaccinated</span><span class="tag">üî¨ Health Tested</span></div></div><button class="btn-primary" onclick="showPage('profile')">Create Profile ‚Üí</button></div><div style="background:var(--cream);border-radius:14px;padding:1.2rem;"><strong style="font-size:.85rem;">Profile includes:</strong><ul style="margin-top:.6rem;padding-left:1rem;font-size:.8rem;color:#6A5A50;line-height:2;">  <li>üêæ Name, type, breed</li><li>üìÖ Age & gender</li><li>üìç Location for matching</li><li>üèÖ Certifications</li><li>üì∑ Photos</li></ul></div></div>`},
  {title:'4. Book a Nearby Vet',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">ü©∫ Rahul Finds Dr. Arora</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Goes to Nearby Vets. Sees live queue (3 patients, ~30 min wait). Picks 11 AM slot. Books instantly.</p><div style="background:var(--white);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;margin-bottom:.8rem;"><strong>Dr. Rajeev Arora</strong><br><span style="font-size:.76rem;color:#9A8070;">PawCare Clinic ¬∑ 2.3 km ¬∑ ‚Çπ400</span><div style="margin-top:.4rem;font-size:.78rem;"><span style="background:#E8F5E9;color:var(--sage);padding:.15rem .5rem;border-radius:5px;">11 AM ‚úì Selected</span></div></div><button class="btn-primary" onclick="showPage('vets')">Browse Vets ‚Üí</button></div><div class="demo-phone"><h4>Booking Confirmed</h4><div class="demo-msg"><strong>üìÖ Appointment Confirmed</strong>Max with Dr. Arora ¬∑ Tomorrow 11 AM ¬∑ PawCare Clinic, Noida</div><div class="demo-msg"><strong>‚è∞ 24hr Reminder</strong>Tomorrow: Max's vet visit at 11 AM. Please arrive 10 min early.</div></div></div>`},
  {title:'5. Pet Cab to the Vet',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üöó Rahul Books a Pet Cab</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Rahul can't drive Max himself today. He opens Pet Cab, picks a Sedan, enters the clinic address. Books the "Vet Ride" package for ‚Çπ299 flat.</p><div style="background:var(--white);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;margin-bottom:.8rem;"><strong>üöó Ravi Kumar ¬∑ Sedan</strong><br><span style="font-size:.76rem;color:#9A8070;">Pet trained ¬∑ ETA 8 min ¬∑ ‚Çπ299 flat</span><div style="margin-top:.4rem;font-size:.78rem;color:var(--sage);">üêæ Pet carrier & AC included</div></div><button class="btn-primary" onclick="showPage('cab')">Book Pet Cab ‚Üí</button></div><div class="demo-phone"><h4>Cab Updates</h4><div class="demo-msg"><strong>üöó Driver Assigned</strong>Ravi Kumar is on his way. ETA: 8 minutes. Track live.</div><div class="demo-msg"><strong>üìç Driver Arrived</strong>Your pet cab is outside. Max's ride to PawCare Clinic begins!</div><div class="demo-msg"><strong>‚úÖ Dropped Off</strong>Max has been safely dropped at PawCare Clinic. Return trip in 1 hr.</div></div></div>`},
  {title:'6. Veterinarian Visit & Summary',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üìã Veterinarian Updates Max's Records</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Dr. Arora (on the Veterinarian Portal) fills in Max's visit summary ‚Äî diagnosis, treatment, medicines, weight ‚Äî and schedules next vaccination for 1 year later.</p><div style="display:flex;flex-direction:column;gap:.5rem;margin-bottom:.8rem;"><div style="background:var(--cream);border-radius:8px;padding:.7rem;font-size:.8rem;border-left:3px solid var(--warm);">Diagnosis: Ear wax buildup ¬∑ Rabies vaccine given</div><div style="background:#E8F5E9;border-radius:8px;padding:.7rem;font-size:.8rem;border-left:3px solid var(--sage);">Next Visit: Feb 2027 ¬∑ Annual Booster<br><span style="color:var(--warm);">üì≤ Reminder set for 7 days before</span></div></div><button class="btn-primary" onclick="openVetPortal()">Open Veterinarian Portal ‚Üí</button></div><div class="demo-phone"><h4>Visit Summary Sent</h4><div class="demo-msg"><strong>üìã Max's Visit Summary</strong>Dr. Arora ¬∑ Ear cleaned + Rabies vaccine. Medicines: Ear drops 5 days.</div><div class="demo-msg"><strong>üìÖ Next Visit Scheduled</strong>Annual booster on 22 Feb 2027. You'll get a reminder on 15 Feb 2027.</div></div></div>`},
  {title:'7. Vaccination Reminder',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üîî Auto-Alert 7 Days Before</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">System automatically sends Rahul a reminder 7 days before Max's next vaccination. He books directly from the notification.</p><div style="display:flex;flex-direction:column;gap:.5rem;margin-bottom:.8rem;"><div style="background:var(--white);border-radius:8px;padding:.7rem;font-size:.78rem;border-left:3px solid var(--rust);">üö® 7 days: Advance reminder sent</div><div style="background:var(--white);border-radius:8px;padding:.7rem;font-size:.78rem;border-left:3px solid var(--warm);">üìÖ 1 day: Appointment reminder</div><div style="background:var(--white);border-radius:8px;padding:.7rem;font-size:.78rem;border-left:3px solid var(--sage);">‚úÖ After: New summary + next date</div></div></div><div class="demo-phone"><h4>Notifications</h4><div class="demo-msg" style="border-left-color:var(--rust);"><strong>üö® Vaccination Due!</strong>Max's Annual Booster is due in 7 days. Book Dr. Arora now!</div><div class="demo-msg"><strong>üî¨ Also Recommended</strong>Max's annual blood panel is due. Book a home lab test.</div><div class="demo-msg" style="border-left-color:var(--cab);"><strong>üöó Need a Cab?</strong>Book a pet cab to the clinic at the same time!</div></div></div>`},
  {title:'8. Lab Tests Booked',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">üî¨ Home Blood Test for Max</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Rahul books a CBC test with home sample collection. Technician arrives next morning. Results shared with Dr. Arora in 24 hrs.</p><div style="background:var(--white);border-radius:12px;padding:1rem;border:1.5px solid #EDE0D4;margin-bottom:.8rem;"><strong>ü©∏ CBC Blood Test ¬∑ ‚Çπ499</strong><br><span style="font-size:.76rem;color:#9A8070;">Home collection ¬∑ Tomorrow 8 AM<br>Results in 24 hrs ¬∑ Shared with vet</span></div><button class="btn-primary" onclick="showPage('lab')">Book Lab Tests ‚Üí</button></div><div class="demo-phone"><h4>Lab Results</h4><div class="demo-msg"><strong>üî¨ Technician on the way</strong>Sample collection for Max at 8:00 AM tomorrow. Please keep Max calm.</div><div class="demo-msg"><strong>üìä Results Ready</strong>CBC: All normal. Report shared with Dr. Arora automatically.</div></div></div>`},
  {title:'9. Grooming & Pantry',html:`<div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;"><div><h4 style="font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:.7rem;">‚úÇÔ∏è Grooming + üõçÔ∏è Royal Canin Order</h4><p style="color:#6A5A50;font-size:.87rem;line-height:1.7;margin-bottom:.8rem;">Rahul books Ritu for home grooming, and orders Royal Canin Adult 3kg from the Pantry. The pet cab takes Max to the groomer.</p><div style="display:flex;flex-direction:column;gap:.5rem;margin-bottom:.8rem;"><div style="background:var(--white);border-radius:8px;padding:.7rem;font-size:.8rem;border-left:3px solid var(--purple);">‚úÇÔ∏è Ritu Sharma ¬∑ Home Grooming ¬∑ Tomorrow 11 AM ¬∑ ‚Çπ649</div><div style="background:var(--white);border-radius:8px;padding:.7rem;font-size:.8rem;border-left-color:var(--rust);border-left:3px solid #CC2B2B;">üëë Royal Canin Adult 3kg ¬∑ ‚Çπ1,850 ¬∑ Delivery Tomorrow</div></div><div style="display:flex;gap:.6rem;"><button class="btn-primary" onclick="showPage('grooming')">Grooming ‚Üí</button><button class="btn-primary" style="background:var(--brown);" onclick="showPage('pantry')">Pantry ‚Üí</button></div></div><div class="demo-phone"><h4>Notifications</h4><div class="demo-msg"><strong>‚úÇÔ∏è Grooming Confirmed</strong>Ritu Sharma arrives tomorrow at 11 AM for Max's grooming at your home.</div><div class="demo-msg"><strong>üì¶ Order Shipped</strong>Royal Canin 3kg shipped. Expected delivery: tomorrow by 6 PM.</div></div></div>`},
  {title:'10. Complete Journey ‚úÖ',html:`<div style="text-align:center;padding:1.5rem 0;"><div style="font-size:3.5rem;margin-bottom:.8rem;">üéâ</div><h4 style="font-family:'Playfair Display',serif;font-size:1.6rem;margin-bottom:.8rem;">PawConnect Journey Complete!</h4><p style="color:#6A5A50;font-size:.88rem;line-height:1.8;max-width:560px;margin:0 auto 1.5rem;">Rahul's entire pet care workflow ‚Äî from verification to cab, vet, lab tests, grooming & food ‚Äî handled in one place.</p><div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:.8rem;max-width:680px;margin:0 auto 1.5rem;"><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">‚úÖ</div><strong style="font-size:.8rem;">OTP Verified</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">üêï</div><strong style="font-size:.8rem;">Profile Created</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">ü©∫</div><strong style="font-size:.8rem;">Vet Booked</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">üöó</div><strong style="font-size:.8rem;">Cab Taken</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">üìã</div><strong style="font-size:.8rem;">Visit Summarised</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">üîî</div><strong style="font-size:.8rem;">Reminders Set</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">üî¨</div><strong style="font-size:.8rem;">Lab Test Done</strong></div><div style="background:var(--white);border-radius:12px;padding:.9rem;border:1.5px solid #EDE0D4;text-align:center;"><div style="font-size:1.6rem;margin-bottom:.3rem;">‚úÇÔ∏è</div><strong style="font-size:.8rem;">Grooming Booked</strong></div></div><button class="btn-primary" style="font-size:.95rem;padding:.8rem 2.2rem;" onclick="showPage('home')">üè† Back to Home</button></div>`}
];

let currentDemo=0;
function goDemo(idx){
  currentDemo=idx;
  const total=demoSteps.length;
  const pct=Math.round(((idx+1)/total)*100);
  document.getElementById('demoScreen').innerHTML=`
    <div class="progress-bar"><div class="progress-fill" style="width:${pct}%"></div></div>
    <div class="step-indicator">Step ${idx+1} of ${total}</div>
    <h3 style="font-size:.95rem;font-weight:600;margin-bottom:1rem;color:var(--warm);">${demoSteps[idx].title}</h3>
    ${demoSteps[idx].html}
    <div class="demo-nav">
      <button class="demo-nav-btn" onclick="goDemo(${idx-1})" ${idx===0?'disabled':''}>‚Üê Prev</button>
      <button class="demo-nav-btn" onclick="goDemo(${idx+1})" ${idx===total-1?'disabled':''}>Next ‚Üí</button>
    </div>`;
  document.querySelectorAll('.demo-step-btn').forEach((b,i)=>{b.classList.remove('active','done');if(i<idx)b.classList.add('done');else if(i===idx)b.classList.add('active');});
}

// Build step buttons
const btnContainer=document.getElementById('demoStepBtns');
demoSteps.forEach((s,i)=>{const b=document.createElement('button');b.className='demo-step-btn'+(i===0?' active':'');b.textContent=s.title;b.onclick=()=>goDemo(i);btnContainer.appendChild(b);});
goDemo(0);


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DOCTOR PORTAL JS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
// ‚îÄ‚îÄ AUTH ‚îÄ‚îÄ
function dSwitchTab(t){
  document.getElementById('dtabL').classList.toggle('active',t==='login');
  document.getElementById('dtabR').classList.toggle('active',t==='reg');
  document.getElementById('dlForm').style.display=t==='login'?'block':'none';
  document.getElementById('drForm').style.display=t==='reg'?'block':'none';
}
function dDoLogin(){
  var email    = document.getElementById('dlEmail').value.trim();
  var password = document.getElementById('dlPassword').value.trim();
  var vci      = document.getElementById('dlVci').value.trim();

  if(!email || !password || !vci){ toast('Please fill in all fields'); return; }

  toast('Authenticating...');

  window.sb.auth.signInWithPassword({ email: email, password: password }).then(function(res){
    if(res.error){ toast('‚ùå ' + res.error.message); return; }

    var userId = res.data.user.id;

    window.sb.from('vets').select('*').eq('auth_id', userId).eq('vci_reg_no', vci).then(function(vres){
      if(vres.error || !vres.data || vres.data.length === 0){
        toast('‚ùå VCI number does not match');
        window.sb.auth.signOut();
        return;
      }
      window.currentVet  = vres.data[0];
      window.currentUser = res.data.user;

      var greeting = document.getElementById('vetGreeting');
      if(greeting) greeting.textContent = 'Good morning, Dr. ' + window.currentVet.name.split(' ').pop() + ' üëã';
      var clinicLine = document.getElementById('vetClinicLine');
      if(clinicLine) clinicLine.textContent = (window.currentVet.clinic_name||'') + ', ' + (window.currentVet.city||'');

      document.getElementById('doctorLogin').style.display = 'none';
      document.getElementById('doctorApp').style.display   = 'flex';
      dSp('dashboard');
      toast('‚úÖ Welcome Dr. ' + window.currentVet.name + '!');
      loadVetDashboard();
    });
  });
}
function dDoRegister(){
  document.getElementById('doctorLogin').style.display='none';
  document.getElementById('doctorApp').style.display='flex';
  dSp('settings');
  toast('‚úÖ Account created! Complete your clinic setup to go live.');
}
function dDoLogout(){
  window.sb.auth.signOut();
  window.currentVet  = null;
  window.currentUser = null;
  document.getElementById('doctorApp').style.display     = 'none';
  document.getElementById('doctorLogin').style.display   = 'flex';
  document.getElementById('doctorSection').style.display = 'none';
  document.getElementById('landing').style.display       = 'block';
  toast('Logged out!');
}

// ‚îÄ‚îÄ NAVIGATION ‚îÄ‚îÄ

function dSp(id){
  document.querySelectorAll('#doctorApp .page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('#doctorApp .sb-btn[data-dpage]').forEach(b=>b.classList.remove('active'));
  var el=document.getElementById('d'+id);
  if(el)el.classList.add('active');
  var btn=document.querySelector('#doctorApp .sb-btn[data-dpage="'+id+'"]');
  if(btn)btn.classList.add('active');
  window.scrollTo(0,0);
}

// ‚îÄ‚îÄ LIVE QUEUE ‚îÄ‚îÄ
const qPts=[
  {tok:'#04',nm:'Bruno',pt:'Labrador ¬∑ Vikram T.',rs:'Deworming ¬∑ Est. 10 min'},
  {tok:'#05',nm:'Coco',pt:'Holland Lop ¬∑ Sneha M.',rs:'General ¬∑ Est. 15 min'},
  {tok:'#06',nm:'Kiwi',pt:'African Grey ¬∑ Rajan P.',rs:'Feather Check ¬∑ Est. 20 min'},
  {tok:'#07',nm:'Buddy',pt:'Poodle ¬∑ Anita R.',rs:'Post-op üö® ¬∑ Est. 25 min'}
];
let qPos=0;
function dCallNext(){
  if(!window.currentVet){ toast('Not logged in'); return; }
  var today = new Date().toISOString().split('T')[0];
  window.sb.from('vet_queue').select('*').eq('vet_id', window.currentVet.id).eq('queue_date', today).eq('status','waiting').order('token_number',{ascending:true}).limit(1).then(function(res){
    if(res.error || !res.data || res.data.length === 0){ toast('No more patients in queue!'); return; }
    var p = res.data[0];
    document.getElementById('dcurTok').textContent = '#' + p.token_number;
    document.getElementById('dcurNm').textContent  = p.pet_name;
    document.getElementById('dcurPt').textContent  = (p.pet_type||'') + ' ¬∑ ' + (p.owner_name||'');
    document.getElementById('dcurRs').textContent  = p.reason || '';
    document.getElementById('dqSumHd').textContent = 'üìù Visit Summary ‚Äî ' + p.pet_name;
    window.sb.from('vet_queue').update({status:'in_progress'}).eq('id', p.id).then(function(){});
    window.sb.from('vet_queue').select('id').eq('vet_id', window.currentVet.id).eq('queue_date', today).eq('status','waiting').then(function(qres){
      var el = document.getElementById('ddqn');
      if(el) el.textContent = qres.data ? qres.data.length : 0;
    });
    window._currentQueueItem = p;
    toast('üì¢ Calling ' + p.pet_name + ' ¬∑ Token #' + p.token_number);
    setTimeout(loadQueue, 1000);
  });
}
function dAddWalkin(){
  const v=document.getElementById('dwiIn').value.trim();
  if(!v){toast('Enter patient name');return;}
  const list=document.getElementById('dqList');
  const n=list.querySelectorAll('.q-item').length+1;
  const d=document.createElement('div');
  d.className='q-item';
  d.innerHTML=`<div class="q-tok w">${n}</div><div class="qi"><h5>${v}</h5><p>Walk-in patient</p></div><span class="q-st w">Waiting</span>`;
  list.appendChild(d);
  document.getElementById('dwiIn').value='';
  toast('‚ûï Walk-in added: '+v);
}

// ‚îÄ‚îÄ PATIENTS ‚îÄ‚îÄ
const ptData={
  Max:{av:'üêï',title:'Max',sub:'Golden Retriever ¬∑ ‚ôÇ Male ¬∑ 3 yrs ¬∑ Chip: 982000123456789',visits:12,pet:'Breed: <strong>Golden Retriever</strong><br>Age: <strong>3 years</strong><br>Gender: <strong>Male</strong><br>Weight: <strong>28.5 kg</strong><br>Chip: <strong>982000123456789</strong>',owner:'Name: <strong>Rahul Singh</strong><br>Mobile: <strong>+91 98765 43210</strong><br>Email: <strong>rahul@gmail.com</strong><br>Location: <strong>Noida Sec-50</strong>',hist:[{c:'vc',d:'22 Feb 2026 ¬∑ Dr. Arora',t:'üíâ Rabies Vaccination + Ear Cleaning',b:'Ear wax buildup. CerumeneX ear clean. Rabies vaccine given. Ear drops √ó 5 days. Wt: 28.5 kg ¬∑ Temp: 101.8¬∞F.'},{c:'',d:'15 Jan 2026 ¬∑ Dr. Arora',t:'ü©∫ Annual General Check-up',b:'All vitals normal. BCS 5/9. Mild overweight. Bravecto administered.'},{c:'sx',d:'10 Aug 2025 ¬∑ Dr. Arora',t:'üî¨ Lipoma Biopsy (Benign)',b:'Left flank lipoma ‚Äî benign confirmed. Sutured. Amoxyclav 500mg √ó 7 days. Healed.'},{c:'vc',d:'22 Feb 2025 ¬∑ Dr. Arora',t:'üíâ Annual Vaccination Bundle',b:'7-in-1, Rabies, Leptospirosis. Drontal Plus. No adverse reactions.'},{c:'',d:'5 Oct 2024 ¬∑ Dr. Arora',t:'ü§í Gastroenteritis',b:'Vomiting √ó2, loose stools. IV fluids, Metronidazole √ó 5 days. Full recovery.'}],next:'Annual Booster ‚Äî 22 Feb 2027',nextSub:'Auto-reminder to Rahul Singh on 15 Feb 2027'},
  Luna:{av:'üêà',title:'Luna',sub:'Persian Cat ¬∑ ‚ôÄ Female ¬∑ 2 yrs',visits:8,pet:'Breed: <strong>Persian Cat</strong><br>Age: <strong>2 years</strong><br>Gender: <strong>Female</strong><br>Weight: <strong>4.2 kg</strong>',owner:'Name: <strong>Priya Kapoor</strong><br>Mobile: <strong>+91 99887 65432</strong><br>Location: <strong>Noida Sec-40</strong>',hist:[{c:'',d:'22 Feb 2026 ¬∑ Dr. Arora',t:'ü©∫ General Check-up',b:'BCS 5/9. Dental tartar noted. Recommend cleaning in 3 months. Eyes clear.'},{c:'vc',d:'10 Dec 2025 ¬∑ Dr. Arora',t:'üíâ Annual Vaccination (FVRCP + Rabies)',b:'No reactions. Next due Dec 2026.'}],next:'Dental Cleaning ‚Äî May 2026',nextSub:'Reminder to Priya Kapoor on 1 May 2026'},
  Rocky:{av:'üêï‚Äçü¶∫',title:'Rocky',sub:'German Shepherd ¬∑ ‚ôÇ Male ¬∑ 4 yrs',visits:15,pet:'Breed: <strong>German Shepherd</strong><br>Age: <strong>4 years</strong><br>Weight: <strong>30.5 kg</strong>',owner:'Name: <strong>Amit Rao</strong><br>Mobile: <strong>+91 97654 32109</strong><br>Location: <strong>Indirapuram, UP</strong>',hist:[{c:'sx',d:'22 Feb 2026 (Today) ¬∑ Dr. Arora',t:'üî¨ Skin Issue ‚Äî In Progress',b:'Pruritus + erythema on ventral abdomen. Suspected atopic dermatitis. Skin scraping ordered. Ketoconazole shampoo BID √ó 2 wks.'},{c:'vc',d:'5 Jan 2026 ¬∑ Dr. Arora',t:'üíâ Annual Booster',b:'7-in-1, Rabies. Wt: 30.2 kg. All normal.'}],next:'Lab Review ‚Äî 1 Mar 2026',nextSub:'Reminder to Amit Rao on 22 Feb 2026'},
  Bruno:{av:'üêï',title:'Bruno',sub:'Labrador ¬∑ ‚ôÇ Male ¬∑ 2 yrs',visits:6,pet:'Breed: <strong>Labrador</strong><br>Age: <strong>2 years</strong><br>Weight: <strong>32 kg</strong>',owner:'Name: <strong>Vikram Tiwari</strong><br>Mobile: <strong>+91 98654 32100</strong><br>Location: <strong>Vaishali, UP</strong>',hist:[{c:'vc',d:'10 Jan 2026 ¬∑ Dr. Arora',t:'üíâ Deworming',b:'Drontal Plus. Wt: 32 kg. Healthy.'}],next:'Annual Vaccination ‚Äî June 2026',nextSub:'Reminder to Vikram Tiwari on 1 Jun 2026'},
  Kiwi:{av:'ü¶ú',title:'Kiwi',sub:'African Grey ¬∑ ‚ôÇ Male ¬∑ 5 yrs',visits:3,pet:'Breed: <strong>African Grey</strong><br>Age: <strong>5 years</strong>',owner:'Name: <strong>Rajan Pillai</strong><br>Mobile: <strong>+91 96543 21098</strong><br>Location: <strong>Noida Sec-18</strong>',hist:[{c:'',d:'15 Jan 2026 ¬∑ Dr. Arora',t:'ü™∂ Feather Check',b:'Mild feather picking. Featherex Omega supplement. Environmental enrichment advised.'}],next:'Feather Progress ‚Äî April 2026',nextSub:'Reminder to Rajan Pillai on 1 Apr 2026'},
  Coco:{av:'üêá',title:'Coco',sub:'Holland Lop ¬∑ ‚ôÄ Female ¬∑ 1 yr',visits:4,pet:'Breed: <strong>Holland Lop</strong><br>Age: <strong>1 year</strong><br>Weight: <strong>1.8 kg</strong>',owner:'Name: <strong>Sneha Mehta</strong><br>Mobile: <strong>+91 97321 54321</strong><br>Location: <strong>Noida Sec-51</strong>',hist:[{c:'',d:'5 Feb 2026 ¬∑ Dr. Arora',t:'ü©∫ General + Deworming',b:'Fenbendazole 5%. Wt: 1.8 kg. Healthy coat and teeth.'}],next:'GI Check ‚Äî August 2026',nextSub:'Reminder to Sneha Mehta on 1 Aug 2026'}
};
function dSelPt(el,nm){
  document.querySelectorAll('#dptGrid .pt-card').forEach(c=>c.classList.remove('sel'));
  el.classList.add('sel');
  const d=ptData[nm];if(!d)return;
  document.getElementById('dptDetail').innerHTML=`
    <div class="pd-head"><div class="pd-av">${d.av}</div><div><h3>${d.title} <span class="vc-b">${d.visits} visits</span></h3><p>${d.sub}</p></div></div>
    <div class="ig"><div class="ib"><h5>Pet Details</h5><p>${d.pet}</p></div><div class="ib"><h5>Owner Details</h5><p>${d.owner}</p></div></div>
    <div class="card-title">üìã Visit History</div>
    <div class="hist">${d.hist.map(h=>`<div class="hi ${h.c}"><div class="hi-dt">${h.d}</div><div class="hi-tt">${h.t}</div><div class="hi-bd">${h.b}</div></div>`).join('')}</div>
    <div class="nxt-box"><strong>üìÖ Next: ${d.next}</strong><p>${d.nextSub}</p></div>`;
}
function dFilterPt(q){document.querySelectorAll('#dptGrid .pt-card').forEach(c=>{c.style.display=c.textContent.toLowerCase().includes(q.toLowerCase())?'':'none';});}

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ
function dOpenModal(pet){
  const nd=new Date();nd.setFullYear(nd.getFullYear()+1);
  document.getElementById('dmnd').value=nd.toISOString().split('T')[0];
  document.getElementById('dSumModalTitle').textContent='üìù Visit Summary ‚Äî '+pet;
  document.getElementById('dSumModal').classList.add('open');
}
function dCloseModal(){document.getElementById('dSumModal').classList.remove('open');}
function dSaveModal(){
  if(!window._currentQueueItem){ dCloseModal(); return; }
  var summary = {
    vet_id:            window.currentVet ? window.currentVet.id : null,
    pet_name:          window._currentQueueItem.pet_name,
    diagnosis:         document.getElementById('ddiag')  ? document.getElementById('ddiag').value  : '',
    treatment:         document.getElementById('dtreat') ? document.getElementById('dtreat').value : '',
    medicines:         document.getElementById('dmeds')  ? document.getElementById('dmeds').value  : '',
    weight_kg:         document.getElementById('dwt')    ? parseFloat(document.getElementById('dwt').value)||null  : null,
    temperature_f:     document.getElementById('dtemp')  ? parseFloat(document.getElementById('dtemp').value)||null : null,
    next_visit_date:   document.getElementById('dnvd')   ? document.getElementById('dnvd').value   : null,
    next_visit_reason: document.getElementById('dnvr')   ? document.getElementById('dnvr').value   : ''
  };
  window.sb.from('visit_summaries').insert(summary).then(function(res){
    if(res.error){ toast('Error: ' + res.error.message); return; }
    window.sb.from('vet_queue').update({status:'done'}).eq('id', window._currentQueueItem.id).then(function(){});
    dCloseModal();
    toast('‚úÖ Visit summary saved!');
    setTimeout(loadQueue, 500);
  });
}
document.getElementById('dSumModal').addEventListener('click',function(e){if(e.target===this)dCloseModal();});

// Set default next visit date
const nd=new Date();nd.setFullYear(nd.getFullYear()+1);
if(document.getElementById('dnvd'))document.getElementById('dnvd').value=nd.toISOString().split('T')[0];

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê UNIFIED BRIDGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

function openVetPortal(){
  var landing = document.getElementById('landing');
  var app     = document.getElementById('app');
  var ds      = document.getElementById('doctorSection');
  var dl      = document.getElementById('doctorLogin');
  var da      = document.getElementById('doctorApp');
  if(landing) landing.style.display = 'none';
  if(app)     app.style.display     = 'none';
  if(ds)      ds.style.display      = 'block';
  if(dl)      dl.style.display      = 'flex';
  if(da)      da.style.display      = 'none';
  console.log('Vet portal opened');
}

function logout(){
  window.currentUser = null;
  localStorage.removeItem('pawconnect_session');
  window.sb.auth.signOut();
  document.getElementById('app').style.display='none';
  document.getElementById('landing').style.display='block';
  toast('Logged out!');
}


// ‚ïê‚ïê SAVE PET PROFILE ‚ïê‚ïê
function savePet(){
  if(!window.currentUser){ toast('Please login first'); return; }
  var name  = document.getElementById('petName').value.trim();
  var owner = document.getElementById('ownerName').value.trim();
  var type  = document.getElementById('petType').value;
  var breed = document.getElementById('breedSelect').value;
  var age   = document.getElementById('petAge').value;
  var city  = document.getElementById('petCity').value.trim();
  var about = document.getElementById('petAbout').value.trim();
  var gender = window._selectedGender || '';

  if(!name){ toast('Please enter pet name'); return; }
  if(!type){ toast('Please select pet type'); return; }

  var petData = {
    user_id: window.currentUser.id,
    name: name,
    type: type,
    breed: breed,
    age_label: age,
    city: city,
    about: about,
    gender: gender
  };

  toast('Saving...');

  // Safety: ensure user row exists first
  window.sb.from('users').select('id').eq('id', window.currentUser.id).then(function(uCheck){
    if(!uCheck.data || uCheck.data.length === 0){
      window.sb.from('users').insert({
        id: window.currentUser.id,
        phone: window._pendingPhone || ''
      }).then(function(){ doSavePet(petData, name); });
    } else {
      doSavePet(petData, name);
    }
  });
}

function doSavePet(petData, name){
  // Check if pet exists first then update or insert
  window.sb.from('pets').select('id').eq('user_id', window.currentUser.id).then(function(res){
    if(res.data && res.data.length > 0){
      // Pet exists ‚Äî UPDATE it
      var petId = res.data[0].id;
      window.sb.from('pets').update(petData).eq('id', petId).then(function(r){
        if(r.error){ toast('Error: ' + r.error.message); return; }
        window.currentPet = Object.assign({}, petData, { id: petId });
        toast('‚úÖ ' + name + ' profile updated!');
      });
    } else {
      // No pet yet ‚Äî INSERT
      window.sb.from('pets').insert(petData).then(function(r){
        if(r.error){ toast('Error: ' + r.error.message); return; }
        window.currentPet = petData;
        toast('‚úÖ ' + name + ' profile saved!');
      });
    }
  });
}

// Track selected gender
function selectGender(el){
  document.querySelectorAll('.gbtn').forEach(function(b){ b.style.background=''; b.style.color=''; });
  el.style.background = '#8B4513';
  el.style.color = '#fff';
  window._selectedGender = el.textContent.trim().includes('Male') ? 'Male' : 'Female';
}

function loadVetDashboard(){
  if(!window.currentVet) return;
  var today = new Date().toISOString().split('T')[0];

  // Load appointments count
  window.sb.from('appointments').select('*').eq('vet_id', window.currentVet.id).eq('appointment_date', today).then(function(res){
    if(res.data){
      var el = document.getElementById('ddqn');
      if(el) el.textContent = res.data.length;
      window.todayAppointments = res.data;
    }
  });

  // Load live queue
  loadQueue();
}

function loadQueue(){
  if(!window.currentVet) return;
  var today = new Date().toISOString().split('T')[0];

  window.sb.from('vet_queue')
    .select('*')
    .eq('vet_id', window.currentVet.id)
    .eq('queue_date', today)
    .order('token_number', { ascending: true })
    .then(function(res){
      var list = document.getElementById('dqList');
      var emptyMsg = document.getElementById('qEmptyMsg');
      if(!list) return;

      if(res.error || !res.data || res.data.length === 0){
        list.innerHTML = '<div style="color:#6A8FAF;font-size:.82rem;padding:1rem;text-align:center;" id="qEmptyMsg">No patients in queue today</div>';
        return;
      }

      // Update waiting count
      var waiting = res.data.filter(function(p){ return p.status === 'waiting'; }).length;
      var el = document.getElementById('ddqn');
      if(el) el.textContent = waiting;

      // Build queue list
      var html = '';
      res.data.forEach(function(p){
        var tokClass = p.status === 'done' ? 'd' : p.status === 'in_progress' ? 'a' : p.status === 'urgent' ? 'u' : 'w';
        var stText   = p.status === 'done' ? 'Done' : p.status === 'in_progress' ? 'In Progress' : p.status === 'urgent' ? 'Urgent' : 'Waiting';
        var tokText  = p.status === 'done' ? '‚úì' : p.token_number;
        var aqClass  = p.status === 'in_progress' ? ' aq' : '';
        html += '<div class="q-item' + aqClass + '">' +
                  '<div class="q-tok ' + tokClass + '">' + tokText + '</div>' +
                  '<div class="qi"><h5>' + p.pet_name + ' (' + (p.owner_name||'') + ')</h5>' +
                  '<p>' + (p.pet_type||'') + ' ¬∑ ' + (p.reason||'') + '</p></div>' +
                  '<span class="q-st ' + tokClass + '">' + stText + '</span>' +
                '</div>';
      });
      list.innerHTML = html;
    });
}

function backToLanding(){
  document.getElementById('doctorSection').style.display='none';
  document.getElementById('doctorApp').style.display='none';
  document.getElementById('doctorLogin').style.display='none';
  document.getElementById('app').style.display='none';
  document.getElementById('landing').style.display='block';
}



/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PAYMENT GATEWAY ‚Äî FULL JS
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

// ‚îÄ‚îÄ CART STATE ‚îÄ‚îÄ
let cartItems = [];
let payContext = { type:'cart', amount:0, desc:'' };

// Enhanced addCart ‚Äî accepts item details
function addToCart(name, price, icon, meta) {
  const existing = cartItems.find(i => i.name === name);
  if (existing) { existing.qty++; }
  else { cartItems.push({ name, price, icon: icon||'üì¶', meta: meta||'', qty:1 }); }
  updateCartUI();
  toast('üõí ' + name + ' added to cart!');
}

// addCart() -> delegates to addToCart()

function updateCartUI() {
  const total = cartItems.reduce((s,i) => s + i.price*i.qty, 0);
  const gst = Math.round(total * 0.18);
  const grand = total + gst;
  const count = cartItems.reduce((s,i) => s + i.qty, 0);

  // Update badges
  document.getElementById('cartCount').textContent = count;
  document.getElementById('fabCount').textContent = count;
  var pcc = document.getElementById('pantryCartCount');
  if (pcc) pcc.textContent = count;

  // Show/hide FAB
  const fab = document.getElementById('cartFab');
  if (count > 0) fab.classList.add('visible');
  else fab.classList.remove('visible');

  // Subtotal / GST / Total
  document.getElementById('csSubtotal').textContent = '‚Çπ' + total.toLocaleString('en-IN');
  document.getElementById('csGst').textContent = '‚Çπ' + gst.toLocaleString('en-IN');
  document.getElementById('csTotal').textContent = '‚Çπ' + grand.toLocaleString('en-IN');

  // Render items
  const list = document.getElementById('cartItemsList');
  if (cartItems.length === 0) {
    list.innerHTML = '<div class="cart-empty"><div class="ce-icon">üõí</div><p>Your cart is empty</p><p style="font-size:.78rem;margin-top:.3rem;">Add items from Pantry, Grooming or Lab</p></div>';
  } else {
    list.innerHTML = cartItems.map((item,idx) => `
      <div class="cart-item">
        <div class="ci-icon">${item.icon}</div>
        <div class="ci-info">
          <div class="ci-name">${item.name}</div>
          <div class="ci-meta">${item.meta}</div>
          <div class="ci-qty">
            <button onclick="changeQty(${idx},-1)">‚àí</button>
            <span>${item.qty}</span>
            <button onclick="changeQty(${idx},1)">+</button>
            <button class="ci-remove" onclick="removeItem(${idx})">üóë Remove</button>
          </div>
        </div>
        <div class="ci-price">‚Çπ${(item.price*item.qty).toLocaleString('en-IN')}</div>
      </div>`).join('');
  }
}

function changeQty(idx, delta) {
  cartItems[idx].qty += delta;
  if (cartItems[idx].qty <= 0) cartItems.splice(idx, 1);
  updateCartUI();
}

function removeItem(idx) {
  cartItems.splice(idx, 1);
  updateCartUI();
}

// ‚îÄ‚îÄ CART DRAWER ‚îÄ‚îÄ
function openCart() {
  document.getElementById('cartDrawer').classList.add('open');
  document.getElementById('cartOverlay').classList.add('open');
}
function closeCart() {
  document.getElementById('cartDrawer').classList.remove('open');
  document.getElementById('cartOverlay').classList.remove('open');
}

// ‚îÄ‚îÄ PAY MODAL ‚îÄ‚îÄ
function openPayModal(type, amount, desc) {
  closeCart();
  payContext.type = type || 'cart';

  if (type === 'cart') {
    const total = cartItems.reduce((s,i) => s + i.price*i.qty, 0);
    const gst = Math.round(total * 0.18);
    payContext.amount = total + gst;
    payContext.desc = cartItems.length + ' item' + (cartItems.length>1?'s':'') + ' ¬∑ Free Delivery';
  } else {
    payContext.amount = amount || 0;
    payContext.desc = desc || 'PawConnect Service';
  }

  const amtStr = '‚Çπ' + payContext.amount.toLocaleString('en-IN');
  document.getElementById('payAmount').textContent = amtStr;
  document.getElementById('payBtnAmt').textContent = amtStr;
  document.getElementById('payDesc').textContent = payContext.desc;
  document.getElementById('payForm').style.display = 'block';
  document.getElementById('paySuccess').classList.remove('show');
  document.getElementById('payModalOverlay').classList.add('open');
}

function closePayModal() {
  document.getElementById('payModalOverlay').classList.remove('open');
  document.getElementById('payNowBtn').classList.remove('processing');
  document.getElementById('payNowBtn').innerHTML = 'üîí Pay <span id="payBtnAmt">‚Çπ' + payContext.amount.toLocaleString('en-IN') + '</span> Securely';
}

function handlePayOverlayClick(e) {
  if (e.target === document.getElementById('payModalOverlay')) closePayModal();
}

// ‚îÄ‚îÄ PAYMENT METHOD SWITCHING ‚îÄ‚îÄ
function setPayMethod(method, btn) {
  document.querySelectorAll('.pm-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.upi-section,.card-section,.net-section,.wallet-section').forEach(s => s.classList.remove('active'));
  document.getElementById('pm' + method.charAt(0).toUpperCase() + method.slice(1)).classList.add('active');
}

function selUpiApp(el) { document.querySelectorAll('.upi-app').forEach(a=>a.classList.remove('sel')); el.classList.add('sel'); }
function selBank(el) { document.querySelectorAll('.bank-item').forEach(b=>b.classList.remove('sel')); el.classList.add('sel'); }
function selWallet(el) { document.querySelectorAll('.wallet-item').forEach(w=>w.classList.remove('sel')); el.classList.add('sel'); }

// Card number formatting
function fmtCard(input) {
  let v = input.value.replace(/\D/g,'').substring(0,16);
  input.value = v.replace(/(\d{4})/g,'$1 ').trim();
}
function fmtExp(input) {
  let v = input.value.replace(/\D/g,'').substring(0,4);
  if (v.length >= 2) v = v.substring(0,2) + '/' + v.substring(2);
  input.value = v;
}

// ‚îÄ‚îÄ PROCESS PAYMENT ‚îÄ‚îÄ
function processPayment() {
  const btn = document.getElementById('payNowBtn');
  btn.classList.add('processing');
  btn.textContent = '‚è≥ Processing payment‚Ä¶';

  setTimeout(() => {
    // Show success
    document.getElementById('payForm').style.display = 'none';
    const success = document.getElementById('paySuccess');
    success.classList.add('show');

    // Generate fake txn ID
    const txnId = 'PC' + Date.now().toString().slice(-8);
    document.getElementById('psTxnId').textContent = txnId;
    document.getElementById('psTxnTime').textContent = new Date().toLocaleTimeString('en-IN');

    // Contextual success message
    let msg = '';
    if (payContext.type === 'cart') {
      msg = 'Your order is confirmed! Expected delivery by tomorrow 6 PM. üì¶';
      cartItems = [];
      updateCartUI();
    } else if (payContext.type === 'vet') {
      msg = "Vet appointment confirmed! You'll receive a reminder 1 hour before. ü©∫";
    } else if (payContext.type === 'cab') {
      msg = 'Cab booked! Your driver will arrive shortly. Track in real-time. üöó';
    } else if (payContext.type === 'grooming') {
      msg = "Grooming session confirmed! The groomer will arrive at your doorstep. ‚úÇÔ∏è";
    } else if (payContext.type === 'lab') {
      msg = 'Lab test booked! Sample collection scheduled for tomorrow morning. üî¨';
    } else if (payContext.type === 'trainer') {
      msg = 'Training session booked! Trainer will contact you shortly. üèãÔ∏è';
    } else {
      msg = 'Payment successful! Your booking is confirmed. üêæ';
    }
    document.getElementById('psSubText').textContent = msg;

    btn.classList.remove('processing');
  }, 2200);
}

// ‚îÄ‚îÄ BOOK & PAY SHORTCUTS ‚îÄ‚îÄ (called from service pages)
function bookAndPay(type, amount, desc) {
  openPayModal(type, amount, desc);
}


// ‚ïê‚ïê SESSION RESTORE ‚Äî stays logged in after refresh ‚ïê‚ïê
window.sb.auth.getSession().then(function(res){
  var session = res.data.session;
  if(!session || !session.user) return;
  window.currentUser = session.user;

  // Check if vet
  window.sb.from('vets').select('*').eq('auth_id', session.user.id).then(function(vres){
    if(vres.data && vres.data.length > 0){
      window.currentVet = vres.data[0];
      document.getElementById('landing').style.display       = 'none';
      document.getElementById('doctorSection').style.display = 'block';
      document.getElementById('doctorLogin').style.display   = 'none';
      document.getElementById('doctorApp').style.display     = 'flex';
      dSp('dashboard');
      loadVetDashboard();
      toast('Welcome back, Dr. ' + window.currentVet.name + '!');
    } else {
      // Pet parent
      document.getElementById('landing').style.display = 'none';
      document.getElementById('app').style.display     = 'block';
      showPage('home');
      loadPet();
      toast('Welcome back!');
    }
  });
});

// ‚ïê‚ïê LOAD PET PROFILE ‚ïê‚ïê
function loadPet(){
  if(!window.currentUser) return;
  window.sb.from('pets').select('*').eq('user_id', window.currentUser.id).then(function(res){
    if(res.error || !res.data || res.data.length === 0) return;
    var pet = res.data[0];
    window.currentPet = pet;
    var petName = document.getElementById('petName');
    var ownerName = document.getElementById('ownerName');
    var petType = document.getElementById('petType');
    var petAge = document.getElementById('petAge');
    var petCity = document.getElementById('petCity');
    var petAbout = document.getElementById('petAbout');
    if(petName) petName.value = pet.name || '';
    if(ownerName) ownerName.value = pet.owner_name || '';
    if(petType) petType.value = pet.type || '';
    if(petAge) petAge.value = pet.age_label || '';
    if(petCity) petCity.value = pet.city || '';
    if(petAbout) petAbout.value = pet.about || '';
    toast('üêæ ' + pet.name + ' profile loaded!');
  });
}

</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAYMENT GATEWAY HTML
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- Cart Overlay -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>

<!-- Floating Cart FAB -->
<button class="cart-fab" id="cartFab" onclick="openCart()">
  üõí Cart <span class="cf-count" id="fabCount">0</span>
</button>

<!-- Cart Drawer -->
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h3>üõí Your Cart</h3>
    <button class="cart-close" onclick="closeCart()">‚úï</button>
  </div>
  <div class="cart-items" id="cartItemsList">
    <div class="cart-empty">
      <div class="ce-icon">üõí</div>
      <p>Your cart is empty</p>
      <p style="font-size:.78rem;margin-top:.3rem;color:#B0A090;">Add items from Pantry, Grooming or Lab</p>
    </div>
  </div>
  <div class="cart-footer">
    <div class="cart-summary">
      <div class="cs-row"><span>Subtotal</span><span id="csSubtotal">‚Çπ0</span></div>
      <div class="cs-row"><span>Delivery</span><span style="color:var(--sage);">FREE</span></div>
      <div class="cs-row"><span>GST (18%)</span><span id="csGst">‚Çπ0</span></div>
      <div class="cs-row total"><span>Total</span><span id="csTotal">‚Çπ0</span></div>
    </div>
    <button class="checkout-btn" onclick="openPayModal('cart')">üîí Proceed to Pay</button>
  </div>
</div>

<!-- Payment Modal Overlay -->
<div class="pay-modal-overlay" id="payModalOverlay" onclick="handlePayOverlayClick(event)">
  <div class="pay-modal" id="payModal">

    <div class="pay-header">
      <h3>üîí Secure Payment</h3>
      <button class="cart-close" onclick="closePayModal()">‚úï</button>
    </div>

    <!-- Payment Form -->
    <div id="payForm" class="pay-body">

      <!-- Amount display -->
      <div class="pay-amount-box">
        <div>
          <div class="pab-label">Total Amount</div>
          <div class="pab-amount" id="payAmount">‚Çπ0</div>
          <div class="pab-items" id="payDesc">PawConnect Order</div>
        </div>
        <div style="font-size:2.5rem;">üêæ</div>
      </div>

      <!-- Method Tabs -->
      <div class="pm-title">Choose Payment Method</div>
      <div class="pm-tabs">
        <button class="pm-tab active" onclick="setPayMethod('upi',this)">
          <span class="pt-icon">üì±</span><span class="pt-label">UPI</span>
        </button>
        <button class="pm-tab" onclick="setPayMethod('card',this)">
          <span class="pt-icon">üí≥</span><span class="pt-label">Card</span>
        </button>
        <button class="pm-tab" onclick="setPayMethod('net',this)">
          <span class="pt-icon">üè¶</span><span class="pt-label">Netbanking</span>
        </button>
        <button class="pm-tab" onclick="setPayMethod('wallet',this)">
          <span class="pt-icon">üëú</span><span class="pt-label">Wallet</span>
        </button>
      </div>

      <!-- UPI -->
      <div class="upi-section active" id="pmUpi">
        <div class="pm-title">Pay with UPI App</div>
        <div class="upi-apps">
          <div class="upi-app sel" onclick="selUpiApp(this)">
            <div class="ua-icon">üü¢</div>
            <div><div class="ua-name">PhonePe</div><div class="ua-sub">Linked &amp; Ready</div></div>
          </div>
          <div class="upi-app" onclick="selUpiApp(this)">
            <div class="ua-icon">üîµ</div>
            <div><div class="ua-name">Google Pay</div><div class="ua-sub">rahul@okaxis</div></div>
          </div>
          <div class="upi-app" onclick="selUpiApp(this)">
            <div class="ua-icon">üü£</div>
            <div><div class="ua-name">Paytm</div><div class="ua-sub">+91 98765 43210</div></div>
          </div>
          <div class="upi-app" onclick="selUpiApp(this)">
            <div class="ua-icon">üü†</div>
            <div><div class="ua-name">BHIM UPI</div><div class="ua-sub">Enter UPI ID</div></div>
          </div>
        </div>
        <div style="font-size:.72rem;color:#9A8070;text-align:center;margin-bottom:.7rem;">‚Äî or enter UPI ID manually ‚Äî</div>
        <div class="upi-id-box">
          <input type="text" placeholder="yourname@upi" id="upiIdInput">
          <button style="background:var(--warm);color:#fff;border:none;border-radius:8px;padding:.52rem .9rem;font-family:'DM Sans',sans-serif;font-size:.82rem;cursor:pointer;white-space:nowrap;" onclick="toast('‚úÖ UPI ID verified!')">Verify</button>
        </div>
      </div>

      <!-- Card -->
      <div class="card-section" id="pmCard">
        <div class="card-preview">
          <div class="cp-chip">üí≥</div>
          <div class="cp-number" id="cpNum">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</div>
          <div class="cp-bottom">
            <div>
              <div class="cp-name" id="cpName">CARD HOLDER</div>
              <div class="cp-exp" id="cpExp">MM / YY</div>
            </div>
            <div style="font-size:1.5rem;opacity:.6;">üí†</div>
          </div>
        </div>
        <div class="card-fields">
          <div class="cf-group">
            <label>Card Number</label>
            <input type="text" maxlength="19" placeholder="1234 5678 9012 3456"
              oninput="fmtCard(this)"
              onkeyup="document.getElementById('cpNum').textContent=this.value||'‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢'">
          </div>
          <div class="cf-group">
            <label>Cardholder Name</label>
            <input type="text" placeholder="RAHUL SINGH"
              oninput="document.getElementById('cpName').textContent=this.value.toUpperCase()||'CARD HOLDER'">
          </div>
          <div class="cf-row">
            <div class="cf-group">
              <label>Expiry</label>
              <input type="text" maxlength="5" placeholder="MM/YY"
                oninput="fmtExp(this)"
                onkeyup="document.getElementById('cpExp').textContent=this.value||'MM / YY'">
            </div>
            <div class="cf-group">
              <label>CVV</label>
              <input type="password" maxlength="3" placeholder="‚Ä¢‚Ä¢‚Ä¢">
            </div>
          </div>
          <label style="display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:#7A6A5A;cursor:pointer;margin-top:.3rem;">
            <input type="checkbox" checked> Save card securely for future payments
          </label>
        </div>
      </div>

      <!-- Netbanking -->
      <div class="net-section" id="pmNet">
        <div class="pm-title">Select Your Bank</div>
        <div class="bank-grid">
          <div class="bank-item sel" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">SBI</div></div>
          <div class="bank-item" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">HDFC Bank</div></div>
          <div class="bank-item" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">ICICI Bank</div></div>
          <div class="bank-item" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">Axis Bank</div></div>
          <div class="bank-item" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">Kotak Bank</div></div>
          <div class="bank-item" onclick="selBank(this)"><div class="bi-icon">üè¶</div><div class="bi-name">Punjab NB</div></div>
        </div>
        <select style="width:100%;border:1.5px solid #E8DDD4;border-radius:8px;padding:.55rem .8rem;font-family:'DM Sans',sans-serif;font-size:.85rem;color:var(--brown);background:var(--cream);outline:none;margin-top:.5rem;">
          <option>Other Banks...</option><option>Yes Bank</option><option>IndusInd</option><option>Federal Bank</option><option>Bank of Baroda</option>
        </select>
      </div>

      <!-- Wallet -->
      <div class="wallet-section" id="pmWallet">
        <div class="pm-title">Select Wallet</div>
        <div class="wallet-grid">
          <div class="wallet-item sel" onclick="selWallet(this)"><span class="wi-icon">üü£</span><div class="wi-name">Paytm</div><div class="wi-bal">Bal: ‚Çπ2,340</div></div>
          <div class="wallet-item" onclick="selWallet(this)"><span class="wi-icon">üîµ</span><div class="wi-name">Mobikwik</div><div class="wi-bal">Bal: ‚Çπ450</div></div>
          <div class="wallet-item" onclick="selWallet(this)"><span class="wi-icon">üü†</span><div class="wi-name">Amazon Pay</div><div class="wi-bal">Bal: ‚Çπ1,200</div></div>
          <div class="wallet-item" onclick="selWallet(this)"><span class="wi-icon">üü¢</span><div class="wi-name">Freecharge</div><div class="wi-bal">Bal: ‚Çπ80</div></div>
        </div>
      </div>

      <!-- Pay Now Button -->
      <button class="pay-now-btn" id="payNowBtn" onclick="processPayment()">
        üîí Pay <span id="payBtnAmt">‚Çπ0</span> Securely
      </button>
      <div class="secure-row">
        <span>üîí 256-bit SSL</span>&nbsp;¬∑&nbsp;
        <span>üõ°Ô∏è PCI DSS</span>&nbsp;¬∑&nbsp;
        <span>‚úÖ RBI Compliant</span>
      </div>
    </div>

    <!-- Success Screen -->
    <div class="pay-success" id="paySuccess">
      <div class="ps-checkmark">‚úÖ</div>
      <div class="ps-title">Payment Successful!</div>
      <div class="ps-sub" id="psSubText">Your order has been placed. You'll receive a confirmation shortly.</div>
      <div class="ps-ref">
        <strong>Transaction ID:</strong> <span id="psTxnId">PC2026XXXXX</span><br>
        <strong>Date:</strong> 23 Feb 2026 &nbsp;¬∑&nbsp; <strong>Time:</strong> <span id="psTxnTime">--:--</span>
      </div>
      <button class="checkout-btn" onclick="closePayModal()">üêæ Back to PawConnect</button>
    </div>

    <!-- Trust Bar -->
    <div class="trust-bar">
      <div class="tb-item">üîê Powered by Razorpay</div>
      <div class="tb-item">¬∑&nbsp;üì± UPI 2.0</div>
      <div class="tb-item">¬∑&nbsp;üè¶ 100+ Banks</div>
    </div>

  </div>
</div>
<!-- /PAYMENT GATEWAY HTML -->

</body>
</html>
